webpackJsonp([16],{"7jkg":function(e,t){},qKkZ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("Usg1"),i={name:"Sandbox",data:function(){return{createLoading:!1,form:{phone:"0203236633",service_code:"cashin",currency:"GHS",country_code:"GH",live:!1,dummy:!0},message:"You have received GHs1 into your mobile money account",ready:!1,authorize:!1,pin:"",rules:{customer_no:[{required:!0,min:10,max:10,message:"Length should be 10",trigger:"blur"}],recipient_no:[{required:!0,min:10,max:10,message:"Length should be 10",trigger:"blur"}]}}},watch:{ready:function(e,t){var o=this;!0===e&&setTimeout(function(){o.ready=!1},3e3)}},mounted:function(){r.a.$emit("sideNavClick","sandbox")},methods:{submitForm:function(e){var t=this;this.createLoading=!0,this.$refs[e].validate(function(e){if(!e)return t.createLoading=!1,t.$message({message:"Please correct the errors",type:"error"}),!1;t.form.reference="FLPCO"+Math.floor(99999999999*Math.random());var o="cashin"===t.form.service_code?t.form.amount:t.form.sender_amount,r="";"cashin"===t.form.service_code?r="createTransactions":(r="createPayouts",t.form.sender_currency="GHS",t.form.recipient_currency="GHS"),t.$store.dispatch(r,t.form).then(function(e){"cashin"===t.form.service_code?(t.ready=!0,t.message="You have received GHs"+o+" into your mobile money account"):t.authorize=!0,t.createLoading=!1}).catch(function(e){t.createLoading=!1;var o=e.response;t.$message({message:o.data.error,type:"error"})})})},cancel:function(){this.authorize=!1},sendTrans:function(){var e=this;this.authorize=!1,this.ready=!0;var t="cashin"===this.form.service_code?this.form.amount:this.form.sender_amount;"1234"===this.pin?(this.authorize=!1,this.pin="",this.message="GHs"+t+" has been withdrawn from your mobile money account"):(this.authorize=!1,this.message="Pin is incorrect. Please try again",setTimeout(function(){e.authorize=!0},800))}},computed:{phone:function(){return"cashin"===this.form.service_code?this.form.customer_no:this.form.recipient_no}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",{attrs:{type:"flex",justify:"center",gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-card",[o("div",[o("h3",[e._v("Perform test transactions")]),e._v(" "),o("el-form",[o("el-form",{ref:"form",staticClass:"transaction-form",attrs:{size:"mini","hide-required-asterisk":"",rules:e.rules,model:e.form,"label-width":"170px"}},[o("el-form-item",{attrs:{label:"Transaction Type"}},[o("el-select",{staticClass:"w-100",model:{value:e.form.service_code,callback:function(t){e.$set(e.form,"service_code",t)},expression:"form.service_code"}},[o("el-option",{attrs:{value:"cashin",label:"Deposit to Mobile Money Wallet"}}),e._v(" "),o("el-option",{attrs:{value:"cashout",label:"Withdrawal from Mobile Money Wallet"}})],1)],1),e._v(" "),"cashin"===e.form.service_code?o("div",[o("el-form-item",{staticClass:"h-auto",attrs:{label:"Receipient Phone Number",prop:"customer_no"}},[o("el-input",{model:{value:e.form.customer_no,callback:function(t){e.$set(e.form,"customer_no",t)},expression:"form.customer_no"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Amount",prop:"amount"}},[o("el-input",{staticClass:"little-padding-input",model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}},[o("span",{attrs:{slot:"prefix"},slot:"prefix"},[e._v("₵")])])],1)],1):o("div",[o("el-form-item",{staticClass:"h-auto",attrs:{label:"Recipient Phone Number",prop:"recipient_no"}},[o("el-input",{model:{value:e.form.recipient_no,callback:function(t){e.$set(e.form,"recipient_no",t)},expression:"form.recipient_no"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Sender Amount",prop:"sender_amount"}},[o("el-input",{staticClass:"little-padding-input",model:{value:e.form.sender_amount,callback:function(t){e.$set(e.form,"sender_amount",t)},expression:"form.sender_amount"}},[o("span",{attrs:{slot:"prefix"},slot:"prefix"},[e._v("₵")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"Recipient Amount",prop:"recipient_amount"}},[o("el-input",{staticClass:"little-padding-input",model:{value:e.form.recipient_amount,callback:function(t){e.$set(e.form,"recipient_amount",t)},expression:"form.recipient_amount"}},[o("span",{attrs:{slot:"prefix"},slot:"prefix"},[e._v("₵")])])],1)],1),e._v(" "),o("div",{staticClass:"flex justify-content-end"},[o("el-button",{staticClass:"z-depth-button b-0 bold-500 open-sans white-text",attrs:{size:"mini",loading:e.createLoading,type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("Send")])],1)],1)],1)],1)]),e._v(" "),o("el-card",{staticClass:"my-2"},[o("div",[o("h3",[e._v("hello")]),e._v(" "),o("p",[e._v("Welcome to your FloPay Smart Phone. You can simulate payments from your api and see them appear here.")]),e._v(" "),o("table",[o("tbody",[o("tr",[o("td",[e._v("Telephone No:")]),e._v(" "),o("td",[e._v(" "+e._s(e.phone)+" ")])]),e._v(" "),o("tr",[o("td",[e._v("Transaction type")]),e._v(" "),o("td",[e._v(" "+e._s(e.form.service_code))])])])]),e._v(" "),o("h3",[e._v("INSTRUCTIONS")]),e._v(" "),o("ul",[o("li",[e._v("\n                            Payments should have [test] parameter included in your request body. The [test] parameter should be set to [true]\n                        ")]),e._v(" "),o("li",[e._v("Refresh this page to display dialog incase you make any request with the [test] parameter.")]),e._v(" "),o("li",[e._v("Your test pin code is 1234. This pin is for simulation hence no live transactions are made.")])])])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("div",{staticClass:"center h-100"},[o("div",{staticClass:"img"},[e.ready?o("div",{staticClass:"message"},[e._v("\n                        "+e._s(e.message)+"\n                    ")]):e._e(),e._v(" "),e.authorize?o("div",[o("div",{staticClass:"v-center message"},[o("p",[e._v("Authorize payment of GHs"+e._s(e.form.sender_amount)+" from your account. Enter MM PIN to continue")]),e._v(" "),o("el-input",{attrs:{size:"mini",type:"password"},model:{value:e.pin,callback:function(t){e.pin=t},expression:"pin"}}),e._v(" "),o("div",{staticClass:"my-1"},[o("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v("Cancel")]),e._v(" "),o("el-button",{attrs:{size:"mini"},on:{click:e.sendTrans}},[e._v("Send")])],1)],1)]):e._e()])])])],1)],1)},staticRenderFns:[]};var a=o("VU/8")(i,s,!1,function(e){o("7jkg")},"data-v-511e2c56",null);t.default=a.exports}});
//# sourceMappingURL=16.d746f79c7ffb891bca32.js.map