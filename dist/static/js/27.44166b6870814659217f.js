webpackJsonp([27],{"/2C6":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),o=a("NYxO"),l=a("Usg1"),i={name:"ContactDetails",data:function(){return{test:!0,status:"failed",edit:!1,readonly:!0,remarks:"",page:this.$route.path}},methods:{toggleReadonly:function(){this.readonly=!this.readonly},handleScheduleChange:function(t){this.$store.dispatch("setCurrentContactSchedules",{page:t})},handleTransactionsChange:function(t){this.$store.dispatch("setCurrentContactTransactions",{page:t})},cancel:function(){this.readonly=!0},update:function(){},fetchTransactions:function(){this.$store.dispatch("getCurrentContact",this.$route.params.id)}},created:function(){},mounted:function(){l.a.$emit("sideNavClick","jobs"),this.$store.dispatch("getCurrentContact",this.$route.params.id)},computed:n()({},Object(o.b)({form:"currentContact",state:"currentContactState",schedules:"currentContactSchedules",transactions:"currentContactTransactions",pageSize:"pageSize"}),{loadingPage:function(){return"LOADING"===this.state},success:function(){return"paid"===this.status},schedulesTotal:function(){return this.form.schedules.length},transactionsTotal:function(){return this.form.executed_transactions.length},error:function(){return"ERROR"===this.state},data:function(){return"GHs"===this.form.currency&&"â‚µ",{name:this.form.name,"phone number":this.form.msisdn,email:this.form.email?this.form.email:"-",type:this.form.type?this.form.type:"-",provider:this.form.bank?this.form.bank:"-",description:this.form.description?this.form.description:"-"}},data2:function(){return{"Send emails to":this.form.email?this.form.email:"Not Provided",Address:this.form.address?this.form.address:"Not Provided","Send messages to":this.form.number?this.form.number:"Not Provided"}},hasNoData:function(){return void 0===this.form},header:function(){return"Customer"}})},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.error?a("div",{staticClass:"center h-80"},[a("div",{staticClass:"center flex-column"},[a("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),a("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchTransactions(e)}}},[t._v("Retry")])],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}]},[a("el-card",{staticClass:"card-0",class:{"test-data":t.test}},[a("div",{staticClass:"flex flex-column p-20"},[a("div",{staticClass:"flex justify-content-between align-items-baseline mb-1"},[a("div",{staticClass:"flex align-items-baseline"},[a("p",{staticClass:"blue-text s-24 m-0 p-0 bold-600"},[t._v(t._s(t.form.name))])]),t._v(" "),a("div",[a("p",{staticClass:"text-uppercase s-12 bold-600 m-0 p-0"},[t._v(t._s(t.header))])])])]),t._v(" "),a("div",{staticClass:"border-top px-20 py-10"},[a("div",{staticClass:"flex"},[a("div",[a("i",{staticClass:"user s-12 icon green"})]),t._v(" "),a("div",{staticClass:"flex flex-column ml-1"},[a("p",{staticClass:"light mb-1 s-13"},[t._v(t._s(t.header)+" was created")]),t._v(" "),a("p",{staticClass:"light mb-1 s-12 gray"},[t._v(t._s(t._f("moment")(t.form.created_at,"MMM Do, hh:mm A")))])])])])]),t._v(" "),a("el-card",{staticClass:"my-2"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v(t._s(t.header)+" details")])])]),t._v(" "),a("div",[t.hasNoData?a("div",{staticClass:"center h-80"},[t._v("\n                    "+t._s(t.noData)+"\n                ")]):t._e(),t._v(" "),t.hasNoData?t._e():a("div",[a("div",{staticClass:"flex"},[a("div",{staticClass:"w-50"},[a("el-row",{staticClass:"mb-2"},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"s-12 bold-600 text-uppercase",staticStyle:{color:"#2b2d50"}},[t._v("ACCOUNT INFORMATION")])])],1),t._v(" "),t._l(t.data,function(e,s,n){return a("el-row",{key:n,staticClass:"mb-1",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"m-0 text-capitalize lightgray s-14"},[t._v(t._s(s))])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.readonly?a("div",[a("p",{staticClass:"s-13 mono"},"time"===s?[t._v(t._s(t._f("moment")(e,"hh:mm a")))]:"date"===s?[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]:[t._v(t._s(e))])]):a("div",["date"===s||"time"===s?a("p",{staticClass:"s-13 mono"},[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]):a("el-input",{staticStyle:{width:"80%"},attrs:{size:"mini"},model:{value:t.data[s],callback:function(e){t.$set(t.data,s,e)},expression:"data[key]"}})],1)])],1)})],2),t._v(" "),a("div",{staticClass:"w-50"},[a("el-row",{staticClass:"mb-2"},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"s-12 bold-600 text-uppercase",staticStyle:{color:"#2b2d50"}},[t._v("Billing INFORMATION")])])],1),t._v(" "),t._l(t.data2,function(e,s,n){return a("el-row",{key:n,staticClass:"mb-1"},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"m-0 text-capitalize lightgray s-14"},[t._v(t._s(s))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("p",{staticClass:"s-13 mono"},"date"===s?[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]:[t._v(t._s(e))])])],1)})],2)])])]),t._v(" "),t.readonly?t._e():a("div",{staticClass:"flex justify-content-end"},[a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",plain:""},on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",type:"primary"},on:{click:t.update}},[t._v("Save")])],1)]),t._v(" "),a("el-card",{staticClass:"my-2 card-0"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v(t._s(t.header)+" schedules")])])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}],attrs:{"empty-text":"No schedules","row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.schedules}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_code",label:"Type"},scopedSlots:t._u([{key:"default",fn:function(e){return["cashin"===e.row.service_code?a("p",[t._v("payout")]):a("p",[t._v("payment")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("money")(e.row.amount))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"provider_code",label:"provider"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("moment")(e.row.created_at,"MMM Do, YYYY"))+"\n                        ")]}}])})],1),t._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-10"},[a("div",{staticClass:"s-12"},[t._v("\n                    "+t._s(t.schedules.length)+" results\n                ")]),t._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.pageSize,layout:"prev, pager, next",total:t.schedulesTotal},on:{"current-change":t.handleScheduleChange}})],1)],1),t._v(" "),a("el-card",{staticClass:"my-2 card-0"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v(t._s(t.header)+" transactions")])])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}],attrs:{"empty-text":"No transactions","row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.transactions}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_code",label:"Type",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["cashin"===e.row.service_code?a("p",[t._v("payout")]):a("p",[t._v("payment")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"",width:""},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex"},["Paid"===t.row.status?a("the-tag",{attrs:{status:"success",title:t.row.status,icon:"detail check icon"}}):"Failed"===t.row.status?a("the-tag",{attrs:{status:"failed",title:t.row.status,icon:"close icon"}}):a("the-tag",{attrs:{status:"failed",title:t.row.status,icon:"reply icon"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"gross_amount",label:"gross","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("money")(e.row.gross_amount))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"charged_amount",label:"fee","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("money")(e.row.charged_amount))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"net_amount",label:"net","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("money")(e.row.net_amount))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"reference",label:"reference"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("moment")(e.row.created_at,"MMM Do, YYYY"))+"\n                    ")]}}])})],1),t._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-10"},[a("div",{staticClass:"s-12"},[t._v("\n                    "+t._s(t.transactions.length)+" results\n                ")]),t._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.pageSize,layout:"prev, pager, next",total:t.transactionsTotal},on:{"current-change":t.handleTransactionsChange}})],1)],1)],1)])},staticRenderFns:[]};var c=a("VU/8")(i,r,!1,function(t){a("Hz9J")},"data-v-00fa757b",null);e.default=c.exports},Hz9J:function(t,e){}});
//# sourceMappingURL=27.44166b6870814659217f.js.map