webpackJsonp([1],{"1sBU":function(e,t){},"2kTY":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Dd8w"),r=s.n(i),o=s("Usg1"),a={name:"TicketModal",props:["ticketVisible","transaction"],data:function(){return{reasons:["other","pending transaction","successful but customer not credited","transaction callback not received"],form:{description:""},other:"",loading:!1}},methods:{close:function(){o.a.$emit("ticketModal",!1)},submitTicket:function(e){var t=this;this.loading=!0,this.form.description="other"===this.form.description?this.other:this.form.description;var s=r()({},this.form,{wallet_number:this.transaction.receiver_no,amount:this.transaction.receiver_amount,reference:this.transaction.reference,date_of_transaction:this.transaction.created_at,email:[this.$session.getItem("email")],customer_name:this.transaction.receiver_name,provider_reference:this.transaction.provider_ref,from:this.$session.getItem("email")});this.$store.dispatch("createTicket",s).then(function(e){t.loading=!1,t.$message({type:"success",message:e.data.response.message}),e.data.success&&t.close()}).catch(function(e){var s=e.response;t.$message({type:"error",message:s.data.error})})},resetForm:function(e){this.$refs[e].resetFields()}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"no-padding-dialog",attrs:{top:"25vh","custom-class":"ticket-dialog",title:"Open Ticket",visible:e.ticketVisible,width:"25%"},on:{close:e.close}},[s("div",{staticClass:"flex new-ticket-bg"},[s("el-form",{ref:"ticketForm",staticClass:"w-80 m-auto",attrs:{size:"mini"}},[s("el-form-item",{attrs:{label:"Issue"}},[s("el-select",{staticClass:"w-100",attrs:{placeholder:"Please select reason"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}},e._l(e.reasons,function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),"other"===e.form.description?s("el-form-item",{attrs:{label:"Subject"}},[s("el-input",{attrs:{type:"text"},model:{value:e.form.subject,callback:function(t){e.$set(e.form,"subject",t)},expression:"form.subject"}})],1):e._e(),e._v(" "),"other"===e.form.description?s("el-form-item",{attrs:{label:"Other"}},[s("el-input",{attrs:{autosize:"",type:"textarea"},model:{value:e.other,callback:function(t){e.other=t},expression:"other"}})],1):e._e(),e._v(" "),s("el-form-item",{staticClass:"flex justify-content-end"},[s("el-button",{on:{click:e.close}},[e._v("Cancel")]),e._v(" "),s("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){e.submitTicket("ticketForm")}}},[e._v("Submit")])],1)],1)],1)])},staticRenderFns:[]};var c=s("VU/8")(a,n,!1,function(e){s("1sBU")},"data-v-ccaa8e58",null);t.default=c.exports}});
//# sourceMappingURL=1.e6389ea1fd79d14976d4.js.map