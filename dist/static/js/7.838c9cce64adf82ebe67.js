webpackJsonp([7],{"38X6":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),n=s.n(a),o=s("NYxO"),i=s("Usg1"),l=(s("PJh5"),{name:"Webhooks",data:function(){return{isTest:!0,styleObject:{fontSize:"12px"},loading:!1,dialogVisible:!1,form:{test_url:"",production_url:"",webhook_versions:[{name:"v1",date:"2018-01-01",tag:"default"},{name:"v2",date:"2018-07-01",tag:"latest"}],subscribed_event:[{type:"Send all event types"},{type:"Select types to send"}]},createLoading:!1,webhooks:[],appsHooks:[]}},created:function(){this.$store.dispatch("getLogs")},mounted:function(){i.a.$emit("sideNavClick","webhooks")},methods:{clickRow:function(t,e,s){s.property},SaveWebhook:function(){var t=this;this.createLoading=!0,console.log("Form to Sent:",this.form);var e=[];e.push(this.form.test_url,this.form.test_url),console.log("Query:",e),this.$store.dispatch("getCurrentHook",e).then(function(e){e.data.success?(t.$message({type:"success",message:e.data.response.message}),t.createLoading=!1):t.$message({type:"error",message:e.data.response.message.message}),t.createLoading=!1}).catch(function(e){t.createLoading=!1;var s=e.response;t.$message({type:"error",message:s.data.error})})}},computed:n()({},Object(o.b)({hooks:"hooks",state:"hooksState",meta:"hooksMeta",user:"user"}),{filteredLogs:function(){return this.hooks},error:function(){return"ERROR"===this.state&&"LOADING"!==this.state},total:function(){return this.meta.totalCount},loadingPage:function(){return"LOADING"===this.state},client:function(){return this.user}})}),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"transactions",class:[{"test-data":t.isTest}]},[s("el-card",{staticClass:"mb-2"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"flex justify-content-between align-items-center"},[s("div",{staticClass:"blue-text bold-600"},[t._v("Endpoints receiving events from your account")]),t._v(" "),s("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{disabled:t.error,loading:t.loading,size:"mini",plain:""},on:{click:function(e){t.dialogVisible=!0}}},[s("i",{staticClass:"plus icon"}),t._v(" Add endpoint ")])],1)]),t._v(" "),s("div",{staticClass:"flex justify-content-center"},[t.error?s("div",{staticClass:"center h-80"},[s("div",{staticClass:"center flex-column"},[s("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),s("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.webhooks(e)}}},[t._v("Retry")])],1)]):s("div",{staticClass:"callbacks breathe w-100 s-13"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}],attrs:{"empty-text":"You have not defined any webhooks yet","row-style":t.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.webhooks}},[s("el-table-column",{attrs:{prop:"url",label:"URL"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(e.row.url||"N/A")+"\n                        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"version",label:"VERSION",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(e.row.version||"N/A")+"\n                        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"MODE",width:"125"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("the-tag",{staticClass:"w-50",attrs:{status:"success",title:"Test",icon:"detail check icon"}})]}}])})],1)],1)])]),t._v(" "),s("el-card",{staticClass:"mb-2",class:[{"test-data":t.isTest}]},[s("div",{attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"flex justify-content-between align-items-center"},[s("div",{staticClass:"blue-text bold-600"},[t._v("Endpoints receiving events from Connect applications")]),t._v(" "),s("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{disabled:t.error,loading:t.loading,size:"mini",plain:""},on:{click:t.filteredLogs}},[s("i",{staticClass:"plus icon"}),t._v(" Add endpoint ")])],1)]),t._v(" "),s("div",{staticClass:"flex justify-content-center"},[t.error?s("div",{staticClass:"center h-80"},[s("div",{staticClass:"center flex-column"},[s("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),s("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.webhooks(e)}}},[t._v("Retry")])],1)]):t._e(),t._v(" "),s("div",{staticClass:"callbacks breathe w-100 s-13"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}],attrs:{"empty-text":"You have not defined any webhooks yet","row-style":t.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.appsHooks}},[s("el-table-column",{attrs:{prop:"url",label:"URL"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(e.row.test_url||"N/A")+"\n                        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"version",label:"VERSION",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(e.row.version||"N/A")+"\n                        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"MODE",width:"125"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("the-tag",{attrs:{status:"success",title:"Test",icon:"detail check icon"}})]}}])})],1)],1)])]),t._v(" "),s("el-dialog",{attrs:{"custom-class":"new-transaction",title:"Add a webhook endpoint",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"flex justify-content-center new-transaction-bg"},[s("el-form",{ref:"form",staticClass:"transaction-form",attrs:{size:"mini","hide-required-asterisk":"",model:t.form,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"Test URL"}},[s("el-input",{attrs:{clearable:""},model:{value:t.form.test_url,callback:function(e){t.$set(t.form,"test_url",e)},expression:"form.test_url"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"Production URL"}},[s("el-input",{attrs:{clearable:""},model:{value:t.form.production_url,callback:function(e){t.$set(t.form,"production_url",e)},expression:"form.production_url"}})],1),t._v(" "),s("el-form-item",{staticClass:"h-auto",attrs:{label:"Webhook version",prop:"version"}},t._l(t.form.webhook_versions,function(e,a){return s("div",{key:a,staticClass:"flex align-items-center w-100"},[s("el-radio",{attrs:{label:t.form.name},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),s("div",{staticClass:"flex align-items-center w-100   "},[s("span",{staticClass:"pr-6"},[t._v(t._s(e.date))]),t._v(" "),s("div",{staticClass:"flex align-items-center"},["default"===e.tag?s("the-tag",{attrs:{status:"pending",title:e.tag,icon:"detail check icon"}}):t._e(),t._v(" "),"latest"===e.tag?s("the-tag",{attrs:{status:"success",title:e.tag,icon:"detail check icon"}}):t._e()],1)])],1)})),t._v(" "),s("el-form-item",{attrs:{label:"Filter event",prop:"event"}},t._l(t.form.subscribed_event,function(e,a){return s("div",{key:a,staticClass:"flex align-items-center"},[s("el-radio",{attrs:{label:t.form.name},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),s("div",[s("span",[t._v(t._s(e.type))]),t._v(" "),s("div",[s("span",[t._v(t._s(e.tag))])])])],1)}))],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"z-depth-button b-0 open-sans black-text",attrs:{size:"mini"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),s("el-button",{staticClass:"z-depth-button b-0 bold-500 open-sans white-text",attrs:{size:"mini",loading:t.createLoading,type:"primary"},on:{click:function(e){t.SaveWebhook("form")}}},[t._v("Add endpoint")])],1)])],1)},staticRenderFns:[]};var c=s("VU/8")(l,r,!1,function(t){s("nY4A")},"data-v-ade21504",null);e.default=c.exports},nY4A:function(t,e){}});
//# sourceMappingURL=7.838c9cce64adf82ebe67.js.map