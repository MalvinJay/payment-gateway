webpackJsonp([11],{AKeE:function(t,e){},cjqF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),r=s("Usg1"),o=(s("Y+wi"),s("NYxO")),c={name:"Events",data:function(){return{isTest:!0,styleObject:{fontSize:"12px"},log:{},event_description:""}},created:function(){this.$store.dispatch("getEvents")},mounted:function(){r.a.$emit("sideNavClick","events")},methods:{clickRow:function(t,e,s){s.property&&this.$router.push("/events/"+t.id)},handleCurrentChange:function(t){this.$store.dispatch("getEvents",{page:t,cache:!1})},fetchEvents:function(){this.$store.dispatch("getEvents",{cache:!1})}},computed:a()({},Object(o.b)({events:"events",state:"eventsState",meta:"eventsMeta"}),{filteredEvents:function(){for(var t=this.events,e=0;e<this.events.length;e++)void 0==t[e].request.transaction&&(t[e].request.transaction=[]),void 0==t[e].request.transaction.service_code&&(t[e].request.transaction.service_code="tickets");return t},error:function(){return"ERROR"===this.state&&"LOADING"!==this.state},total:function(){return this.meta.totalCount},loading:function(){return"LOADING"===this.state}})},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"transactions bg-white border-right border-left",class:[{"test-data":t.isTest}]},[s("div",{staticClass:"flex justify-content-between px-20 py-16"},[s("div",[s("filter-component",{attrs:{dispatch:"setEventsFilters",filterType:"events"}})],1)]),t._v(" "),s("div",[t.error?s("div",{staticClass:"center h-80"},[s("div",{staticClass:"center flex-column"},[s("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),s("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchEvents(e)}}},[t._v("Retry")])],1)]):s("div",{staticClass:"breathe events_custom_headers"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":"No events found, filter desired period range","row-style":t.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.filteredEvents},on:{"row-click":t.clickRow}},[s("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"event",prop:"event"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 bold-500 s-13"},["cashout"===e.row.request.transaction.service_code?s("span",["paid"===e.row.request.transaction.status?s("span",[t._v("\n                              A successful "),s("strong",[t._v("payment")]),t._v(" was made for "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))])]):t._e(),t._v(" "),"failed"===e.row.request.transaction.status?s("span",[t._v("\n                              A "),s("strong",[t._v("payment")]),t._v(" of "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))]),t._v(" failed\n                            ")]):t._e()]):t._e(),t._v(" "),"cashin"===e.row.request.transaction.service_code?s("span",["paid"===e.row.request.transaction.status?s("span",[t._v("\n                              A successful "),s("strong",[t._v("payout")]),t._v(" was made for "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))])]):t._e(),t._v(" "),"failed"===e.row.request.transaction.status?s("span",[t._v("\n                              A "),s("strong",[t._v("payout")]),t._v(" of "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))]),t._v(" failed\n                            ")]):t._e()]):t._e(),t._v(" "),"card_payment"===e.row.request.transaction.service_code?s("span",["paid"===e.row.request.transaction.status?s("span",[t._v("\n                              A successful "),s("strong",[t._v("card payment")]),t._v(" was made for "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))])]):t._e(),t._v(" "),"cancelled"===e.row.request.transaction.status?s("span",[t._v("\n                              A "),s("strong",[t._v("card payment")]),t._v(" of "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))]),t._v(" was cancelled\n                            ")]):t._e(),t._v(" "),"failed"===e.row.request.transaction.status?s("span",[t._v("\n                              A "),s("strong",[t._v("card payment")]),t._v(" of "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))]),t._v(" failed\n                            ")]):t._e()]):t._e(),t._v(" "),"direct_payment"===e.row.request.transaction.service_code?s("span",["success"===e.row.request.transaction.status?s("span",[t._v("\n                              A successful "),s("strong",[t._v("direct_payment")]),t._v(" was made for "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))])]):t._e(),t._v(" "),"failed"===e.row.request.transaction.status?s("span",[t._v("\n                              A "),s("strong",[t._v("direct_payment")]),t._v(" of "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))]),t._v(" failed\n                            ")]):t._e()]):t._e(),t._v(" "),"cash_transfer"===e.row.request.transaction.service_code?s("span",["paid"===e.row.request.transaction.status?s("span",[t._v("\n                              A successful "),s("strong",[t._v("cash_transfer")]),t._v(" was made for "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))])]):t._e(),t._v(" "),"failed"===e.row.request.transaction.status?s("span",[t._v("\n                              A "),s("strong",[t._v("cash_transfer")]),t._v(" of "),s("strong",[t._v("GHS "+t._s(e.row.request.transaction.amount))]),t._v(" failed\n                            ")]):t._e()]):t._e(),t._v(" "),"tickets"===e.row.request.transaction.service_code?s("span",[s("span",[t._v("\n                              A "),s("strong",[t._v("ticket event")]),t._v(" was raised.\n                            ")])]):t._e()])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"reference",prop:"reference",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 bold-500 s-12 text-uppercase"},[t._v(t._s(e.row.data.REFERENCE||"N/A"))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"date",prop:"created_at",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 bold-500 s-12"},[t._v(t._s(t._f("moment")(e.row.created_at,"D MMM,YY hh:mm A")))])]}}])})],1),t._v(" "),s("div",{staticClass:"flex justify-content-between align-items-center px-20"},[s("div",{staticClass:"s-12"},[t._v("\n                    "+t._s(t.events.length)+" results\n                ")]),t._v(" "),s("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)])])])},staticRenderFns:[]};var _=s("VU/8")(c,i,!1,function(t){s("AKeE")},"data-v-7ab69f68",null);e.default=_.exports}});
//# sourceMappingURL=11.e0bb5546fd11fbe3dd61.js.map