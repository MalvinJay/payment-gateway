webpackJsonp([3,7],{"/2C6":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("NYxO"),o=a("Usg1"),l={name:"ContactDetails",data:function(){return{test:!0,status:"failed",edit:!1,readonly:!0,remarks:"",page:this.$route.path}},methods:{toggleReadonly:function(){this.readonly=!this.readonly},handleScheduleChange:function(t){this.$store.dispatch("setCurrentContactSchedules",{page:t})},handleTransactionsChange:function(t){this.$store.dispatch("setCurrentContactTransactions",{page:t})},cancel:function(){this.readonly=!0},update:function(){},fetchTransactions:function(){this.$store.dispatch("getCurrentContact",this.$route.params.id)}},created:function(){},mounted:function(){o.a.$emit("sideNavClick","jobs"),this.$store.dispatch("getCurrentContact",this.$route.params.id)},computed:n()({},Object(i.b)({form:"currentContact",state:"currentContactState",schedules:"currentContactSchedules",transactions:"currentContactTransactions",pageSize:"pageSize"}),{loadingPage:function(){return"LOADING"===this.state},success:function(){return"paid"===this.status},schedulesTotal:function(){return this.form.schedules.length},transactionsTotal:function(){return this.form.executed_transactions.length},error:function(){return"ERROR"===this.state},data:function(){return"GHs"===this.form.currency&&"₵",{name:this.form.name,"phone number":this.form.msisdn,email:this.form.email?this.form.email:"-",type:this.form.type?this.form.type:"-",provider:this.form.bank?this.form.bank:"-",description:this.form.description?this.form.description:"-"}},data2:function(){return{"Send emails to":this.form.email?this.form.email:"Not Provided",Address:this.form.address?this.form.address:"Not Provided","Send messages to":this.form.number?this.form.number:"Not Provided"}},hasNoData:function(){return void 0===this.form},header:function(){return"Customer"}})},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.error?a("div",{staticClass:"center h-80"},[a("div",{staticClass:"center flex-column"},[a("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),a("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchTransactions(e)}}},[t._v("Retry")])],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}]},[a("el-card",{staticClass:"card-0",class:{"test-data":t.test}},[a("div",{staticClass:"flex flex-column p-20"},[a("div",{staticClass:"flex justify-content-between align-items-baseline mb-1"},[a("div",{staticClass:"flex align-items-baseline"},[a("p",{staticClass:"blue-text s-24 m-0 p-0 bold-600"},[t._v(t._s(t.form.name))])]),t._v(" "),a("div",[a("p",{staticClass:"text-uppercase s-12 bold-600 m-0 p-0"},[t._v(t._s(t.header))])])])]),t._v(" "),a("div",{staticClass:"border-top px-20 py-10"},[a("div",{staticClass:"flex"},[a("div",[a("i",{staticClass:"user s-12 icon green"})]),t._v(" "),a("div",{staticClass:"flex flex-column ml-1"},[a("p",{staticClass:"light mb-1 s-13"},[t._v(t._s(t.header)+" was created")]),t._v(" "),a("p",{staticClass:"light mb-1 s-12 gray"},[t._v(t._s(t._f("moment")(t.form.created_at,"MMM Do, hh:mm A")))])])])])]),t._v(" "),a("el-card",{staticClass:"my-2"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v(t._s(t.header)+" details")])])]),t._v(" "),a("div",[t.hasNoData?a("div",{staticClass:"center h-80"},[t._v("\n                    "+t._s(t.noData)+"\n                ")]):t._e(),t._v(" "),t.hasNoData?t._e():a("div",[a("div",{staticClass:"flex"},[a("div",{staticClass:"w-50"},[a("el-row",{staticClass:"mb-2"},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"s-12 bold-600 text-uppercase",staticStyle:{color:"#2b2d50"}},[t._v("ACCOUNT INFORMATION")])])],1),t._v(" "),t._l(t.data,function(e,s,n){return a("el-row",{key:n,staticClass:"mb-1",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"m-0 text-capitalize lightgray s-14"},[t._v(t._s(s))])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.readonly?a("div",[a("p",{staticClass:"s-13 mono"},"time"===s?[t._v(t._s(t._f("moment")(e,"hh:mm a")))]:"date"===s?[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]:[t._v(t._s(e))])]):a("div",["date"===s||"time"===s?a("p",{staticClass:"s-13 mono"},[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]):a("el-input",{staticStyle:{width:"80%"},attrs:{size:"mini"},model:{value:t.data[s],callback:function(e){t.$set(t.data,s,e)},expression:"data[key]"}})],1)])],1)})],2),t._v(" "),a("div",{staticClass:"w-50"},[a("el-row",{staticClass:"mb-2"},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"s-12 bold-600 text-uppercase",staticStyle:{color:"#2b2d50"}},[t._v("Billing INFORMATION")])])],1),t._v(" "),t._l(t.data2,function(e,s,n){return a("el-row",{key:n,staticClass:"mb-1"},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"m-0 text-capitalize lightgray s-14"},[t._v(t._s(s))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("p",{staticClass:"s-13 mono"},"date"===s?[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]:[t._v(t._s(e))])])],1)})],2)])])]),t._v(" "),t.readonly?t._e():a("div",{staticClass:"flex justify-content-end"},[a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",plain:""},on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",type:"primary"},on:{click:t.update}},[t._v("Save")])],1)]),t._v(" "),a("el-card",{staticClass:"my-2 card-0"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v(t._s(t.header)+" schedules")])])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}],attrs:{"empty-text":"No schedules","row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.schedules}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_code",label:"Type"},scopedSlots:t._u([{key:"default",fn:function(e){return["cashin"===e.row.service_code?a("p",[t._v("payout")]):a("p",[t._v("payment")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("money")(e.row.amount))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"provider_code",label:"provider"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("moment")(e.row.created_at,"MMM Do, YYYY"))+"\n                        ")]}}])})],1),t._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-10"},[a("div",{staticClass:"s-12"},[t._v("\n                    "+t._s(t.schedules.length)+" results\n                ")]),t._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.pageSize,layout:"prev, pager, next",total:t.schedulesTotal},on:{"current-change":t.handleScheduleChange}})],1)],1),t._v(" "),a("el-card",{staticClass:"my-2 card-0"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v(t._s(t.header)+" transactions")])])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}],attrs:{"empty-text":"No transactions","row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.transactions}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_code",label:"Type",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["cashin"===e.row.service_code?a("p",[t._v("payout")]):a("p",[t._v("payment")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"",width:""},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex"},["Paid"===t.row.status?a("the-tag",{attrs:{status:"success",title:t.row.status,icon:"detail check icon"}}):"Failed"===t.row.status?a("the-tag",{attrs:{status:"failed",title:t.row.status,icon:"close icon"}}):a("the-tag",{attrs:{status:"failed",title:t.row.status,icon:"reply icon"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"gross_amount",label:"gross","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("money")(e.row.gross_amount))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"charged_amount",label:"fee","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("money")(e.row.charged_amount))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"net_amount",label:"net","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("money")(e.row.net_amount))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"reference",label:"reference"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("moment")(e.row.created_at,"MMM Do, YYYY"))+"\n                    ")]}}])})],1),t._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-10"},[a("div",{staticClass:"s-12"},[t._v("\n                    "+t._s(t.transactions.length)+" results\n                ")]),t._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.pageSize,layout:"prev, pager, next",total:t.transactionsTotal},on:{"current-change":t.handleTransactionsChange}})],1)],1)],1)])},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(t){a("Hz9J")},"data-v-00fa757b",null);e.default=c.exports},"0eSL":function(t,e){},"5Czg":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("Usg1"),o=a("NYxO"),l={name:"DisputesTable",data:function(){return{columns:[{label:"Customer",dataField:"name",width:"auto"},{label:"Dispute Ref.",dataField:"ref",width:"auto"},{label:"Transaction Ref.",dataField:"trans_ref",width:"auto"}],styleObject:{fontSize:"12px"},exportVisible:!1,date:!1}},created:function(){this.$store.dispatch("getDisputes")},mounted:function(){i.a.$emit("sideNavClick","disputes")},methods:{handleCurrentChange:function(t){this.$store.dispatch("getDisputes",{page:t,cache:!1})},clickRow:function(t,e,a){a.property&&this.$router.push("/payments/"+t.trans_ref)},fetchDisputes:function(){this.$store.dispatch("getDisputes",{cache:!1})},handleTableCommand:function(t,e){switch(t){case"edit":this.$router.push("disputes/"+e.id)}}},computed:n()({},Object(o.b)({disputes:"disputes",state:"disputesState",pageSize:"pageSize"}),{error:function(){return"ERROR"===this.state&&"LOADING"!==this.state},total:function(){return this.disputes.length},count:function(){},loading:function(){return"LOADING"===this.state}})},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"card-0"},[a("div",{staticClass:"transactions"},[a("div",{staticClass:"trans-div flex justify-content-between"},[a("div",[a("filter-component",{attrs:{dispatch:"setDisputesFilters",filterType:"dispute"}})],1),t._v(" "),a("div")]),t._v(" "),a("div",[t.error?a("div",{staticClass:"center h-80"},[a("div",{staticClass:"center flex-column"},[a("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),a("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchDisputes(e)}}},[t._v("Retry")])],1)]):a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dispute",attrs:{"empty-text":"No disputes","row-style":t.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.disputes},on:{"row-click":t.clickRow}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"Amount",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticClass:"m-0 p-0 mr-10 bold-500 s-13"},[t._v(t._s(t._f("money")(e.row.amount)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"",width:"auto"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex"},["resolved"===t.row.status?a("the-tag",{attrs:{status:"success",title:t.row.status,icon:"detail check icon"}}):"failed"===t.row.status?a("the-tag",{attrs:{status:"failed",title:t.row.status,icon:"close icon"}}):a("the-tag",{attrs:{status:"pending",title:t.row.status,icon:"reply icon"}})],1)]}}])}),t._v(" "),t._l(t.columns,function(t,e){return a("el-table-column",{key:e,attrs:{"show-overflow-tooltip":"",width:t.width,prop:t.dataField,label:t.label}})}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"Date",width:"auto"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n                                "+t._s(t._f("moment")(e.row.created_at,"D MMM,YY hh:mm A"))+"\r\n                            ")]}}])})],2),t._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-10"},[a("div",{staticClass:"s-12"},[t._v("\r\n                            "+t._s(t.disputes.length)+" results\r\n                        ")]),t._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.pageSize,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)])])])],1)},staticRenderFns:[]};var c={name:"Disputes",components:{DisputesTable:a("VU/8")(l,r,!1,function(t){a("jbbF")},"data-v-4fca002e",null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("disputes-table")],1)},staticRenderFns:[]},u=a("VU/8")(c,d,!1,null,null,null);e.default=u.exports},"7vXP":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("Usg1"),o=a("NYxO"),l=a("9gOQ"),r=(a("Y+wi"),function(t,e){});r.getEditView=function(t){return{deposit_account:{account_name:t.name,email:t.email,customer_msisdn:"bank"===t.type.toLowerCase()?t.phone:t.account_no,bank:t.bank,branch:t.branch,phone:t.account_no,account_no:t.account_no},accounts_provider_code:"bank"===t.type.toLowerCase()?"bank":"mobile",description:t.description,code:t.code}};var c=r,d={name:"Contacts",props:["type"],components:{AddContact:l.default},data:function(){return{test:!0,columns:[{label:"Type",dataField:"type",width:"auto"},{label:"phone number",dataField:"account_no",width:"auto"},{label:"Provider",dataField:"bank",width:"auto"},{label:"Owner",dataField:"owner",width:"auto"}],styleObject:{fontSize:"12px"},activeName:"1",date:!1,dialogVisible:!1,form:{accounts_provider_code:"mobile",deposit_account:{}},contact:{},retryLoading:!1,createLoading:!1}},created:function(){this.$store.dispatch("getContacts")},mounted:function(){var t=this;i.a.$emit("sideNavClick","contacts"),i.a.$on("addContact",function(e){t.dialogVisible=!1})},methods:{handleCurrentChange:function(t){this.$store.dispatch("setCurrentContacts",t)},clickRow:function(t,e,a){if(a.property){var s=c.getEditView(t);this.dialogVisible=!0,this.contact=s}},newContact:function(){this.dialogVisible=!0,this.contact=this.form},fetchCustomers:function(){this.$store.dispatch("getContacts")},formatContent:function(t,e,a,s){return void 0!==a&&a?a:"-"},submitForm:function(t){var e=this;this.createLoading=!0,this.$refs[t].validate(function(t){t?e.$store.dispatch("createContact",e.form).then(function(t){e.createLoading=!1,e.$message({message:"Contact Created Successfully",type:"success"}),e.dialogVisible=!1}).catch(function(){e.createLoading=!1,e.$message({message:"Unable to create Contact. Please try again later",type:"error"})}):(e.createLoading=!1,e.$message({message:"Please fill form correctly",type:"error"}))})},resetForm:function(t){this.dialogVisible=!1,this.createLoading=!1,this.$refs[t].resetFields()},editContact:function(t){var e=c.getEditView(t);this.dialogVisible=!0,this.contact=e},handleCommand:function(t,e){switch(t){case"edit":this.editContact(e);break;case"delete":this.deleteContact(e.id)}}},computed:n()({},Object(o.b)({contacts:"currentContacts",state:"contactsState",count:"contactsCount",providers:"providers",pageSize:"pageSize"}),{total:function(){return this.count},loading:function(){return"LOADING"===this.state},error:function(){return"ERROR"===this.state&&"LOADING"!==this.state}})},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"card-0"},[a("div",{staticClass:"transactions"},[a("div",{staticClass:"customer-div flex justify-content-between"},[a("div",{staticClass:"flex align-items-baseline"},[a("p",{staticClass:"blue-text bold-600 s-16 m-0 p-0"},[t._v("Customers")])]),t._v(" "),a("div",[a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button",attrs:{type:"text"},on:{click:t.newContact}},[a("i",{staticClass:"plus icon"}),t._v(" New")])],1)]),t._v(" "),a("div",[t.error?a("div",{staticClass:"center h-80"},[a("div",{staticClass:"center flex-column"},[a("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),a("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchCustomers(e)}}},[t._v("Retry")])],1)]):a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":"No contacts found","row-style":t.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.contacts},on:{"row-click":t.clickRow}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"Name"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex align-items-center cursor black-text"},[t._v("\n                                    "+t._s(e.row.name)+"\n                                ")])]}}])}),t._v(" "),t._l(t.columns,function(e,s){return a("el-table-column",{key:s,attrs:{formatter:t.formatContent,width:e.width,prop:e.dataField,label:e.label}})}),t._v(" "),a("el-table-column",{attrs:{width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-dropdown",{staticClass:"mini-menu",attrs:{trigger:"click"},on:{command:function(a){return t.handleCommand(a,e.row)}}},[a("el-button",{staticClass:"trans-icon-only-button",attrs:{type:"text",size:"mini",plain:"",icon:"ellipsis horizontal icon"}}),t._v(" "),a("el-dropdown-menu",{staticClass:"w-200",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{disabled:""}},[a("div",{staticClass:"table-dropdown-header blue-text bold-600 text-uppercase"},[t._v("\n                                                actions\n                                            ")])]),t._v(" "),a("el-dropdown-item",{staticClass:"s-12",attrs:{command:"edit"}},[t._v("Edit Customer")]),t._v(" "),a("el-dropdown-item",{staticClass:"s-12",attrs:{command:"delete"}},[t._v("Delete Customer")])],1)],1)],1)]}}])})],2),t._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-10"},[a("div",{staticClass:"s-12"},[t._v("\n                        "+t._s(t.contacts.length)+" results\n                    ")]),t._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.pageSize,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),a("add-contact",{attrs:{form:t.contact,dialogVisible:t.dialogVisible}})],1)])},staticRenderFns:[]};var m=a("VU/8")(d,u,!1,function(t){a("B5+G")},"data-v-3d12a82f",null);e.default=m.exports},"9gOQ":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("Usg1"),o=a("NYxO"),l={name:"AddContact",props:["form","dialogVisible"],data:function(){return{rules:{"deposit_account.customer_msisdn":[{required:!0,min:10,max:10,message:"Length should be 10",trigger:"blur"}],amount:[{required:!0,message:"This field is required",trigger:"blur"}],"deposit_account.email":[{required:!0,message:"This field is required",trigger:"blur"}]}}},computed:n()({},Object(o.b)({providers:"providers"})),methods:{close:function(){i.a.$emit("addContact",!1)},submitForm:function(t){var e=this;this.createLoading=!0,this.$refs[t].validate(function(t){t?e.$store.dispatch("createContact",e.form).then(function(t){e.createLoading=!1,e.$message({message:"Contact Created Successfully",type:"success"}),e.dialogVisible=!1}).catch(function(){e.createLoading=!1,e.$message({message:"Unable to create Contact. Please try again later",type:"error"})}):(e.createLoading=!1,e.$message({message:"Please fill form correctly",type:"error"}))})},resetForm:function(t){this.dialogVisible=!1,this.createLoading=!1,this.$refs[t].resetFields()}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"custom-class":"new-transaction",title:"Create Customer",visible:t.dialogVisible,width:"30%"},on:{close:t.close}},[a("div",{staticClass:"flex justify-content-center new-transaction-bg"},[a("el-form",{ref:"form",staticClass:"transaction-form",staticStyle:{width:"90%"},attrs:{size:"mini","label-position":"left","hide-required-asterisk":"",rules:t.rules,model:t.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"Customer Name"}},[a("el-input",{model:{value:t.form.deposit_account.account_name,callback:function(e){t.$set(t.form.deposit_account,"account_name",e)},expression:"form.deposit_account.account_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"h-auto",attrs:{label:"Customer Email",prop:"deposit_account.email"}},[a("el-input",{model:{value:t.form.deposit_account.email,callback:function(e){t.$set(t.form.deposit_account,"email",e)},expression:"form.deposit_account.email"}})],1),t._v(" "),a("el-form-item",{staticClass:"h-auto",attrs:{label:"Phone Number",prop:"deposit_account.customer_msisdn"}},[a("el-input",{model:{value:t.form.deposit_account.customer_msisdn,callback:function(e){t.$set(t.form.deposit_account,"customer_msisdn",e)},expression:"form.deposit_account.customer_msisdn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Description"}},[a("el-input",{attrs:{autosize:"",type:"textarea"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mode"}},[a("el-radio-group",{staticClass:"w-100 default-radio-group",model:{value:t.form.accounts_provider_code,callback:function(e){t.$set(t.form,"accounts_provider_code",e)},expression:"form.accounts_provider_code"}},[a("el-radio-button",{staticClass:"w-50",attrs:{label:"mobile"}},[t._v("Mobile Money")]),t._v(" "),a("el-radio-button",{staticClass:"w-50",attrs:{label:"bank"}},[t._v("Bank")])],1)],1),t._v(" "),"mobile"===t.form.accounts_provider_code?a("div",[a("el-form-item",{attrs:{label:"Provider Name"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Select Provider"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}},t._l(t.providers,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Mobile Money Number"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.deposit_account.phone,callback:function(e){t.$set(t.form.deposit_account,"phone",e)},expression:"form.deposit_account.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Branch"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.deposit_account.bank,callback:function(e){t.$set(t.form.deposit_account,"bank",e)},expression:"form.deposit_account.bank"}})],1)],1):a("div",[a("el-form-item",{attrs:{label:"Bank"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.deposit_account.bank,callback:function(e){t.$set(t.form.deposit_account,"bank",e)},expression:"form.deposit_account.bank"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Account Number"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.deposit_account.account_no,callback:function(e){t.$set(t.form.deposit_account,"account_no",e)},expression:"form.deposit_account.account_no"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Branch"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.deposit_account.branch,callback:function(e){t.$set(t.form.deposit_account,"branch",e)},expression:"form.deposit_account.branch"}})],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"z-depth-button b-0 open-sans black-text",attrs:{size:"mini"},on:{click:function(e){t.resetForm("form")}}},[t._v("Cancel")]),t._v(" "),a("el-button",{staticClass:"z-depth-button b-0 bold-500 open-sans white-text",attrs:{size:"mini",loading:t.createLoading,type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("Create Customer")])],1)])},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(t){a("0eSL")},null,null);e.default=c.exports},"B5+G":function(t,e){},DRTc:function(t,e){},Hz9J:function(t,e){},N9fF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("NYxO"),o=a("Usg1"),l={name:"RunDetails",data:function(){return{status:"failed",edit:!1,readonly:!0,remarks:"",page:this.$route.path}},methods:{toggleReadonly:function(){this.readonly=!this.readonly},cancel:function(){this.readonly=!0},update:function(){}},created:function(){},mounted:function(){o.a.$emit("sideNavClick","payments"),this.$store.dispatch("getCurrentRun",this.$route.params.id)},computed:n()({},Object(i.b)({form:"currentContact",state:"currentContactState"}),{loadingPage:function(){return"LOADING"===this.state},success:function(){return"paid"===this.status},data:function(){return"GHs"===this.form.currency&&"₵",{name:this.form.name,"phone number":this.form.account_no,email:this.form.email?this.form.email:"-",type:this.form.type?this.form.type:"-",bank:this.form.bank,date:this.form.created_at,time:this.form.created_at,description:this.form.remarks?this.form.remarks:"-"}},data2:function(){return{"Send emails to":this.form.email?this.form.email:"Not Provided",Address:this.form.address?this.form.address:"Not Provided","Phone Number":this.form.account_no?this.form.account_no:"Not Provided"}},hasNoData:function(){return void 0===this.form},header:function(){return"Run"}})},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}]},[a("el-card",{staticClass:"card-0"},[a("div",{staticClass:"flex flex-column p-20"},[a("div",{staticClass:"flex justify-content-between align-items-baseline mb-1"},[a("div",{staticClass:"flex align-items-baseline"},[a("p",{staticClass:"blue-text s-24 m-0 p-0 bold-600"},[t._v(t._s(t.form.name))])]),t._v(" "),a("div",[a("p",{staticClass:"text-uppercase s-12 bold-600 m-0 p-0"},[t._v(t._s(t.header))])])]),t._v(" "),a("div",["failed"===t.status?a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",plain:""}},[a("i",{staticClass:"undo icon"}),t._v(" Refund")]):t._e(),t._v(" "),a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",plain:""}},[a("i",{staticClass:"plus icon"}),t._v(" Note")])],1)]),t._v(" "),a("div",{staticClass:"border-top px-20 py-10"},[a("div",{staticClass:"flex"},[a("div",[a("i",{staticClass:"user s-12 icon green"})]),t._v(" "),a("div",{staticClass:"flex flex-column ml-1"},[a("p",{staticClass:"light mb-1 s-13"},[t._v(t._s(t.header)+" was created")]),t._v(" "),a("p",{staticClass:"light mb-1 s-12 gray"},[t._v(t._s(t._f("moment")(t.form.created_at,"MMM Do,YYYY hh:mm A")))])])])])]),t._v(" "),a("el-card",{staticClass:"my-2"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex justify-content-between"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v(t._s(t.header)+" details")]),t._v(" "),a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",plain:"",icon:"pencil alternate icon"},on:{click:t.toggleReadonly}},[t._v("Update Details")])],1)]),t._v(" "),a("div",[t.hasNoData?a("div",{staticClass:"center h-80"},[t._v("\n                "+t._s(t.noData)+"\n            ")]):t._e(),t._v(" "),t.hasNoData?t._e():a("div",[a("div",{staticClass:"flex"},[a("div",{staticClass:"w-50"},t._l(t.data,function(e,s,n){return a("el-row",{key:n,staticClass:"mb-1",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"m-0 text-capitalize lightgray s-14"},[t._v(t._s(s))])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.readonly?a("div",[a("p",{staticClass:"s-13 mono"},"time"===s?[t._v(t._s(t._f("moment")(e,"hh:mm a")))]:"date"===s?[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]:[t._v(t._s(e))])]):a("div",[a("el-input",{staticStyle:{width:"80%"},attrs:{size:"mini"},model:{value:t.data[s],callback:function(e){t.$set(t.data,s,e)},expression:"data[key]"}})],1)])],1)}),1),t._v(" "),a("div",{staticClass:"w-50"},t._l(t.data2,function(e,s,n){return a("el-row",{key:n,staticClass:"mb-1"},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"m-0 text-capitalize lightgray s-14"},[t._v(t._s(s))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("p",{staticClass:"s-13 mono"},"date"===s?[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]:[t._v(t._s(e))])])],1)}),1)])])]),t._v(" "),t.readonly?t._e():a("div",{staticClass:"flex justify-content-end"},[a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",plain:""},on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",type:"primary"},on:{click:t.update}},[t._v("Save")])],1)])],1)},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(t){a("jhC6")},"data-v-cef5db5c",null);e.default=c.exports},SI3C:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("NYxO"),o=a("Usg1"),l=a("Y+wi"),r=function(t,e){};r.getCreateView=function(t){var e={};return(e=t).is_sub_user=!1,e};var c=r,d=(a("PJh5"),a("2etn")),u=a("zvae"),m={name:"JobDetails",data:function(){return{test:!0,loading:!1,readonly:!0,updateLoading:!1,addLoading:!1,schedule:[],days:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],field:{},changedFields:{},deleteLoading:!1,page:1,contactPage:1,ready:!1,exportLoading:!1,GET_BASE_URI:u.b}},mounted:function(){o.a.$emit("sideNavClick","jobs"),this.$store.dispatch("getJobRuns",{id:this.$route.params.id}),this.$store.dispatch("getCurrentJob",{id:this.$route.params.id})},methods:{clickRun:function(t,e,a){a.property&&this.$refs.run.toggleRowExpansion(t)},clickContact:function(t,e,a){a.property&&this.$router.push("/job-contacts/"+t.id)},fetchTransactions:function(){this.$store.dispatch("getCurrentJob",{id:this.$route.params.id})},deleteCustomer:function(t,e){var a=this;c.getCreateView(this.form);this.$store.dispatch("updateJob",{id:this.form.id,data:this.form}).then(function(){a.$message({message:"Job Updated Successfully",type:"success"}),a.$store.dispatch("getCurrentJob",{id:a.$route.params.id,cache:!1})}).catch(function(){a.$message({message:"Job Not Updated",type:"error"})})},addContactToJob:function(){},toggleReadonly:function(){this.readonly=!this.readonly},cancel:function(){this.readonly=!0},runJob:function(){var t=this;this.runLoading=!0,this.$store.dispatch("runJob",this.form.id).then(function(e){e.data.success?(t.$message({message:"Job Run Successfully",type:"success"}),t.runLoading=!1,o.a.$emit("tabNumber","3"),t.$router.replace("/receipts"),setTimeout(function(){t.$store.dispatch("getJobRuns",{id:t.$route.params.id}),t.$store.dispatch("getBalance")},5e3)):(t.$message({type:"error",message:e.data.response.message}),t.runLoading=!1)}).catch(function(e){t.runLoading=!1;var a=e.response;t.$message({message:a.data.error,type:"error"})})},deleteJobContact:function(t,e){var a=this;this.deleteLoading=!0,this.$store.dispatch("deleteJobContact",{id:e.id,job:this.$route.params.id}).then(function(t){t.data.success?(a.$message({message:"Contact Deleted Successfully",type:"success"}),a.deleteLoading=!1,a.$store.dispatch("getCurrentJob",{id:a.$route.params.id,cache:!1})):(a.$message({type:"error",message:t.data.response.message}),a.deleteLoading=!1)}).catch(function(t){a.deleteLoading=!1;t.response;a.$message({message:"Delete failed",type:"error"})})},onChange:function(t,e){var a=this;this.addLoading=!0;var s=this.$el.querySelector(".upload-contacts input[type='file']").files[0];this.$store.dispatch("sendToBucket",s).then(function(t){if(t){var e={Bucket:d.d,Key:a.file.key},s=l.a.addContactToJobQuery(e);a.$store.dispatch("createJobContact",{id:a.form.id,job:s}).then(function(t){t.data.success?(a.$message({type:"success",message:t.data.response.message}),a.$store.dispatch("getCurrentJob",{id:a.$route.params.id})):a.$message({type:"error",message:t.data.response.message}),a.addLoading=!1})}})},update:function(){var t=this;this.updateLoading=!0,this.form.schedule=this.form.scheduled?l.a.createJobQuery(this.form.schedule,this.schedule):"false";var e=l.a.createJobDetailsArray(this.form,["description","scheduled","schedule","retry_limit","active","test"]);this.$store.dispatch("updateJob",{id:this.form.id,data:e}).then(function(e){e.data.success?(t.$message({message:"Job Updated Successfully",type:"success"}),t.updateLoading=!1,t.$store.dispatch("getCurrentJob",{id:t.$route.params.id,cache:!1})):(t.$message({type:"error",message:e.data.response.message}),t.updateLoading=!1)}).catch(function(e){t.updateLoading=!1;e.response;t.$message({message:"Update failed. Please try again later",type:"error"})})},handleCurrentChange:function(t){this.$store.dispatch("getCurrentJobRuns",{page:t})},handleCurrentCustomerChange:function(t){this.page=t},submitExport:function(t){var e=this;this.$store.dispatch("submitJobReport",t).then(function(t){t.data.success?(e.ready=!0,e.$message({type:"success",message:t.data.response.message})):e.$message({type:"error",message:t.data.response.message}),e.exportLoading=!1}).catch(function(t){console.log("job error",t.response),e.exportLoading=!1;var a=t.response;e.$message({message:a.data,type:"error"})})}},computed:n()({},Object(i.b)({form:"currentJob",state:"currentJobState",runs:"currentRuns",totalRunsStore:"currentJobRuns",runState:"currentJobRunsState",file:"file",fileState:"fileState",pageSize:"pageSize",pageLoading:"pageLoading",link:"downloadLink",token:"token"}),{error:function(){return"ERROR"===this.state},loadingPage:function(){return"LOADING"===this.state},runLoading:function(){return"LOADING"===this.runState},header:function(){return"Job"},totalRuns:function(){return this.totalRunsStore.length},totalContacts:function(){return this.form.contacts.length},data:function(){this.form.currency;var t={owner:this.form.owner,name:this.form.description,"number of runs":this.form.number_of_runs,date:this.form.created_at,time:this.form.created_at,scheduled:this.form.scheduled};return this.form.scheduled&&(t.schedule=this.form.schedule),t},contacts:function(){return this.form.contacts.map(function(t){return t.name})},data2:function(){return{reference:this.form.name?this.form.name:"-","retry limit":this.form.retry_limit?this.form.retry_limit:"-","last run":this.form.last_run?this.form.last_run:"No previous run","next run":this.form.next_run?this.form.next_run:"No run scheduled",active:!!this.form.active&&this.form.active,test:this.form.test}},hasNoData:function(){return void 0===this.form}})},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}],staticClass:"h-80"},[t.error?a("div",{staticClass:"center h-80"},[a("div",{staticClass:"center flex-column"},[a("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),a("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchTransactions(e)}}},[t._v("Retry")])],1)]):a("div",[a("el-card",{staticClass:"card-0 position-relative"},[a("div",{staticClass:"flex flex-column p-20"},[a("div",{staticClass:"flex justify-content-between align-items-baseline mb-1"},[a("div",{staticClass:"flex align-items-baseline"},[a("p",{staticClass:"blue-text s-24 m-0 p-0 bold-600"},[t._v(t._s(t.form.description))])]),t._v(" "),a("div",[a("p",{staticClass:"text-uppercase s-12 bold-600 m-0 p-0"},[t._v(t._s(t.header))])])]),t._v(" "),a("div",{directives:[{name:"can",rawName:"v-can",value:"Approve Transactions",expression:"'Approve Transactions'"}]},[t.form.scheduled||t.form.is_mandate?t._e():a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{loading:t.runLoading,icon:"undo icon",size:"mini",plain:""},on:{click:t.runJob}},[t._v("Run Job")])],1)]),t._v(" "),a("div",{staticClass:"border-top px-20 py-10"},[a("div",{staticClass:"flex"},[a("div",[a("i",{staticClass:"check circle s-12 icon green"})]),t._v(" "),a("div",{staticClass:"flex flex-column ml-1"},[a("p",{staticClass:"light mb-1 s-13"},[t._v(t._s(t.header)+" was created")]),t._v(" "),a("p",{staticClass:"light mb-1 s-12 gray"},[t._v(t._s(t._f("moment")(t.form.created_at,"MMM Do, YYYY hh:mm A")))])])])])]),t._v(" "),a("el-card",{staticClass:"my-2"},[a("div",{staticClass:"flex justify-content-between",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v(t._s(t.header)+" details")]),t._v(" "),t.readonly?t._e():a("div",{staticClass:"flex justify-content-end"},[a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{size:"mini",plain:""},on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button b-0",attrs:{loading:t.updateLoading,size:"mini",type:"primary"},on:{click:t.update}},[t._v("Save")])],1)]),t._v(" "),a("div",[t.hasNoData?a("div",{staticClass:"center h-80"},[t._v("\n                    No Data\n                ")]):t._e(),t._v(" "),t.hasNoData?t._e():a("div",[a("div",{staticClass:"flex"},[a("div",{staticClass:"w-50"},t._l(t.data,function(e,s,n){return a("el-row",{key:n,staticClass:"mb-1"},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"m-0 text-capitalize menu-gray-text s-14"},[t._v(t._s(s))])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.readonly?a("div",["time"===s?a("p",{},[t._v(t._s(t._f("moment")(e,"hh:mm a")))]):"date"===s?a("p",{},[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]):"scheduled"===s?a("el-switch",{staticClass:"w-50",attrs:{disabled:""},model:{value:t.form.scheduled,callback:function(e){t.$set(t.form,"scheduled",e)},expression:"form.scheduled"}}):a("p",{},[t._v(t._s(e))])],1):a("div",["number of runs"===s||"owner"===s?a("p",{},[t._v(t._s(e))]):"time"===s?a("p",{},[t._v(t._s(t._f("moment")(e,"hh:mm a")))]):"date"===s?a("p",{},[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]):"name"===s?a("el-input",{staticStyle:{width:"80%"},attrs:{size:"mini"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}):"scheduled"===s?a("el-switch",{staticClass:"w-50",model:{value:t.form.scheduled,callback:function(e){t.$set(t.form,"scheduled",e)},expression:"form.scheduled"}}):"schedule"===s&&t.form.scheduled?a("div",[a("div",{staticClass:"mb-2"},[a("div",{staticClass:"flex align-items-center h-30"},[a("el-switch",{staticClass:"w-50",attrs:{"active-text":"Daily","active-value":"daily"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}}),t._v(" "),a("el-switch",{staticClass:"w-50",attrs:{"active-text":"Weekly","active-value":"weekly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}})],1),t._v(" "),a("div",{staticClass:"flex align-items-center h-30 mt-2"},[a("el-switch",{staticClass:"w-50",attrs:{"active-text":"Monthly","active-value":"monthly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}}),t._v(" "),a("el-switch",{staticClass:"w-50",attrs:{"active-text":"BiMonthly","active-value":"bimonthly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}})],1),t._v(" "),a("div",{staticClass:"flex align-items-center h-30 mt-2"},[a("el-switch",{staticClass:"w-50",attrs:{"active-text":"Quarterly","active-value":"quarterly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}}),t._v(" "),a("el-switch",{staticClass:"w-50",attrs:{"active-text":"Yearly","active-value":"yearly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}})],1)]),t._v(" "),a("transition",{attrs:{name:"el-fade-in"}},["daily"===t.form.schedule?a("div",[a("p",{staticClass:"text-uppercase s-12"},[t._v("time of trasactions postings")]),t._v(" "),a("el-time-select",{attrs:{size:"mini","picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"Select Time"},model:{value:t.schedule.time,callback:function(e){t.$set(t.schedule,"time",e)},expression:"schedule.time"}})],1):"weekly"===t.form.schedule?a("div",[a("p",{staticClass:"text-uppercase s-12"},[t._v("date & time of trasactions postings")]),t._v(" "),a("el-select",{staticClass:"w-50 mb-1",attrs:{placeholder:"Select Date",size:"mini"},model:{value:t.schedule.date,callback:function(e){t.$set(t.schedule,"date",e)},expression:"schedule.date"}},t._l(t.days,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1),t._v(" "),a("el-time-select",{staticClass:"w-50",attrs:{size:"mini","picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"Select Time"},model:{value:t.schedule.time,callback:function(e){t.$set(t.schedule,"time",e)},expression:"schedule.time"}})],1):a("div",[a("p",{staticClass:"text-uppercase s-12"},[t._v("date & time of trasactions postings")]),t._v(" "),a("el-date-picker",{staticClass:"w-50 mb-1",attrs:{size:"mini",type:"date",placeholder:"Select Date","value-format":"yyyy-MM-dd",format:"MMM dd, yyyy","default-value":Date.now()},model:{value:t.schedule.date,callback:function(e){t.$set(t.schedule,"date",e)},expression:"schedule.date"}}),t._v(" "),a("el-time-select",{staticClass:"w-50",attrs:{size:"mini","picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"Select Time"},model:{value:t.schedule.time,callback:function(e){t.$set(t.schedule,"time",e)},expression:"schedule.time"}})],1)])],1):a("el-input",{staticStyle:{width:"80%"},attrs:{size:"mini"},model:{value:t.form[s],callback:function(e){t.$set(t.form,s,e)},expression:"form[key]"}})],1)])],1)}),1),t._v(" "),a("div",{staticClass:"w-50"},t._l(t.data2,function(e,s,n){return a("el-row",{key:n,staticClass:"mb-1",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"m-0 text-capitalize menu-gray-text s-14"},[t._v(t._s(s))])]),t._v(" "),a("el-col",{attrs:{span:16}},[t.readonly?a("div",["active"===s?a("el-switch",{attrs:{disabled:""},model:{value:t.data2[s],callback:function(e){t.$set(t.data2,s,e)},expression:"data2[key]"}}):"test"===s?a("el-switch",{attrs:{disabled:""},model:{value:t.data2[s],callback:function(e){t.$set(t.data2,s,e)},expression:"data2[key]"}}):a("p",{},[t._v(t._s(e))])],1):a("div",["last run"===s||"next run"===s?a("p",{},[t._v(t._s(t._f("moment")(e,"MMM Do, YYYY")))]):"active"===s?a("el-switch",{model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}}):"test"===s?a("el-switch",{model:{value:t.form.test,callback:function(e){t.$set(t.form,"test",e)},expression:"form.test"}}):"retry limit"===s?a("el-input",{staticStyle:{width:"80%"},attrs:{size:"mini"},model:{value:t.form.retry_limit,callback:function(e){t.$set(t.form,"retry_limit",e)},expression:"form.retry_limit"}}):a("el-input-number",{staticClass:"text-left",staticStyle:{width:"80%"},attrs:{controls:!1,size:"mini"},model:{value:t.form[s],callback:function(e){t.$set(t.form,s,e)},expression:"form[key]"}})],1)])],1)}),1)])])])]),t._v(" "),a("el-card",{staticClass:"my-2 card-0"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v(t._s(t.header)+" runs")])]),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}],ref:"run",staticClass:"default-table-expanded",attrs:{"empty-text":"No job runs to display","row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.runs},on:{"row-click":t.clickRun}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{attrs:{"empty-text":"No transactions","tooltip-effect":"light","header-row-class-name":"transactions-table-header","row-class-name":"transactions-table-body",data:e.row.executed_transctions}},[a("el-table-column",{attrs:{prop:"receiver_name",label:"Name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"receiver_no",label:"Number"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reference",label:"Reference"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                        "+t._s(e.row.reference)+"\n                                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sender_amount",label:"Amount"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                        "+t._s(t._f("money")(e.row.sender_amount))+"\n                                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"charged_amount",label:"Fee"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                        "+t._s(t._f("money")(e.row.charged_amount))+"\n                                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:""},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex"},[a("the-tag",{attrs:{status:"failed",title:t.row.status,icon:"reply icon"}})],1)]}}])})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"Date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("moment")(e.row.updated_at,"MMM Do, YYYY"))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"Time"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("moment")(e.row.updated_at,"hh:mm A"))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.ready?a("a",{staticClass:"cursor open-sans el-button el-button--primary el-button--mini",attrs:{href:t.GET_BASE_URI+"v1/clients/reports/download?access_token="+t.token+"&file_name="+t.link,target:"_blank",download:""}},[t._v("\n                                Download\n                            ")]):a("el-button",{staticClass:"p-0 m-0",attrs:{loading:t.exportLoading,type:"text",icon:"download icon"},on:{click:function(a){t.submitExport(e.row.id)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-20"},[a("div",{staticClass:"s-12"},[t._v("\n                        "+t._s(t.runs.length)+" results\n                    ")]),t._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.pageSize,layout:"prev, pager, next",total:t.totalRuns},on:{"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),a("el-card",{staticClass:"my-2 card-0"},[a("div",{staticClass:"flex align-items-baseline justify-content-between",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"blue-text bold-600 s-16"},[t._v("Subscribers")]),t._v(" "),a("el-upload",{staticClass:"upload-contacts no-show-upload",attrs:{action:"","on-change":t.onChange,"auto-upload":!1,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","file-list":t.form.fileList}},[a("el-button",{staticClass:"z-depth-button s-13 open-sans mini-button b-0",attrs:{loading:t.addLoading,type:"primary",size:"mini",icon:"plus icon"}},[t._v("Upload Contacts")])],1)],1),t._v(" "),a("div",{staticClass:"breathe"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":"No job subscribers","row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.form.contacts.slice(12*t.page-12,12*t.page)},on:{"row-click":t.clickContact}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"msisdn",label:"Phone Number"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("money")(e.row.amount))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"status"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex"},["failed"===t.row.status?a("the-tag",{attrs:{status:"success",title:t.row.status,icon:"detail check icon"}}):a("the-tag",{attrs:{status:"pending",title:t.row.status,icon:"detail check icon"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("moment")(e.row.updated_at,"MMM Do, YYYY"))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"p-0 m-0",attrs:{loading:t.deleteLoading,icon:"trash alternate outline icon",type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.deleteJobContact(e.$index,e.row)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-20"},[a("div",{staticClass:"s-12"},[t._v("\n                        "+t._s(t.form.contacts.slice(12*t.page-12,12*t.page).length)+" results\n                    ")]),t._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.pageSize,layout:"prev, pager, next",total:t.totalContacts},on:{"current-change":t.handleCurrentCustomerChange}})],1)],1)])],1)])},staticRenderFns:[]};var f=a("VU/8")(m,p,!1,function(t){a("i6iu")},"data-v-22f9de40",null);e.default=f.exports},i6iu:function(t,e){},jbbF:function(t,e){},jhC6:function(t,e){},qmzr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("Usg1"),o=a("NYxO"),l={name:"Payouts",data:function(){return{test:!0,columns:[{label:"Trans Type",dataField:"type"},{label:"Beneficiary",dataField:"customer"},{label:"Reference",dataField:"ref"}],styleObject:{fontSize:"12px"}}},mounted:function(){i.a.$emit("sideNavClick","payouts"),this.$store.dispatch("getPayouts"),this.$store.dispatch("getJobs"),this.$store.dispatch("getQueues"),this.$store.dispatch("getPending")},computed:n()({},Object(o.b)({transactions:"transactions",state:"transactionsState"}),{total:function(){return this.transactions.length},loading:function(){return"LOADING"===this.state}})},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-tabs",{staticClass:"default-tab",class:[{"test-data":this.test},"position-relative"],attrs:{stretch:"",type:"border-card"}},[e("el-tab-pane",{attrs:{label:"Payments"}},[e("payouts-table",{attrs:{type:"payout"}})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"Queued"}},[e("queued-table")],1),this._v(" "),e("el-tab-pane",{attrs:{label:"Pending Approval"}},[e("pending-table")],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(t){a("DRTc")},"data-v-39a5cf86",null);e.default=c.exports},rc2e:function(t,e){},xk2Q:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("Usg1"),o=a("NYxO"),l=a("2etn"),r=a("Y+wi"),c=a("PJh5"),d=a.n(c),u=(a("Ruan"),{name:"NewJob",data:function(){return{isTest:!0,form:{name:"",schedule:"daily",service_code:"cashin",start_date:"",termination_date:"",timezone:"Africa/Accra",country_code:"GH",live:!this.testData,test:this.testData},beneficiaries:"upload",contactData:[],schedule:{},loading:!1,response:{},files:[],days:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],rules:{description:[{required:!0,message:"This field is required",trigger:"blur"},{min:3,message:"Length should be at least 3 letters",trigger:"blur"}],amount:[{required:!0,message:"This field is required",trigger:"blur"}]}}},created:function(){this.$store.dispatch("getContacts")},computed:n()({},Object(o.b)({contacts:"contacts",file:"file",test:"test",state:"fileState"}),{daterange:{get:function(){return[this.form.start_date,this.form.termination_date]},set:function(t){this.form.start_date=d()(t[0]).format("YYYY-MM-DD"),this.form.termination_date=d()(t[1]).format("YYYY-MM-DD")}},testData:function(){return this.test},fileUploading:function(){return"LOADING"===this.state},fileError:function(){return"ERROR"===this.state}}),methods:{cancel:function(){this.$router.push("/payments")},save:function(t){var e=this;this.loading=!0,this.$refs[t].validate(function(t){if(t){"createJob",e.form.upload_details={Bucket:l.d,Key:e.file.key},e.form.batch_details={Bucket:l.d,Key:e.file.key},e.form.test=e.test,e.form.dummy=e.test,e.form.live=!e.test,e.form.frequency_type=e.form.schedule,e.form.debit_day=r.a.createDebitFreq(e.form.schedule,e.schedule),e.form.frequency=r.a.createFreq(e.form.schedule,e.schedule);var a=r.a.createJobQuery(e.form.schedule,e.schedule);e.form.schedule=a,console.log("Recurring payment:",e.form),e.$store.dispatch("createJob",e.form).then(function(t){t.data.success?(e.$message({type:"success",message:"Job created"}),e.$store.dispatch("getJobs",{cache:!1}),e.$router.push("/jobs")):e.$message({type:"error",message:t.data.response.message}),e.loading=!1}).catch(function(t){e.loading=!1;var a=t.response;e.$message({message:a.data.error,type:"error"})})}else e.loading=!1,e.$message({message:"Please correct the errors",type:"error"})})},onChange:function(t,e){this.files=e;var a=this.$el.querySelector(".upload-demo input[type='file']").files[0];this.$store.dispatch("sendToBucket",a)}},mounted:function(){i.a.$emit("sideNavClick","jobs")}}),m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.fileUploading,expression:"fileUploading"}],class:[{"test-data":t.isTest},"flex","flex-column","card-0","position-relative"],attrs:{"element-loading-text":"Uploading file..."}},[a("div",{staticClass:"flex justify-content-between align-items-center",attrs:{slot:"header"},slot:"header"},[a("h3",{staticClass:"blue-text bold-500 m-0 pb-5"},[t._v("Create a Job")]),t._v(" "),a("div",{staticClass:"standard-button"},[a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans b-0",attrs:{size:"mini"},on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans b-0",attrs:{disabled:t.fileError,loading:t.loading,size:"mini",type:"primary"},on:{click:function(e){t.save("form")}}},[t._v("Save Job")])],1)]),t._v(" "),a("div",{staticClass:"p-20"},[a("el-form",{ref:"form",staticClass:"default-form",attrs:{size:"mini","label-position":"right",rules:t.rules,model:t.form,"label-width":"250px"}},[a("el-form-item",{attrs:{label:"Service Code"}},[a("el-select",{model:{value:t.form.service_code,callback:function(e){t.$set(t.form,"service_code",e)},expression:"form.service_code"}},[a("el-option",{attrs:{label:"Payment",value:"cashin"}}),t._v(" "),a("el-option",{attrs:{label:"Receipt",value:"cashout"}}),t._v(" "),a("el-option",{attrs:{label:"Direct Debit",value:"direct_payment"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Job name",prop:"description"}},[a("el-input",{staticClass:"w-25",model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),"direct_payment"!==t.form.service_code?a("el-form-item",{attrs:{label:"Retry Limit"}},[a("el-input",{staticClass:"w-25",model:{value:t.form.retry_limit,callback:function(e){t.$set(t.form,"retry_limit",t._n(e))},expression:"form.retry_limit"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Start to End Date"}},[a("el-date-picker",{attrs:{type:"daterange"},model:{value:t.daterange,callback:function(e){t.daterange=e},expression:"daterange"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mode"}},[a("el-select",{model:{value:t.form.scheduled,callback:function(e){t.$set(t.form,"scheduled",e)},expression:"form.scheduled"}},[a("el-option",{directives:[{name:"can",rawName:"v-can",value:"Approve Transactions",expression:"'Approve Transactions'"}],attrs:{label:"Automatic",value:!0}}),t._v(" "),"cashin"===t.form.service_code||"cashout"===t.form.service_code?a("el-option",{attrs:{label:"Manual",value:!1}}):t._e()],1)],1),t._v(" "),t.form.scheduled?a("div",[a("el-form-item",{attrs:{label:"Frequency"}},[a("div",{staticClass:"flex align-items-center h-30"},[a("el-switch",{staticClass:"w-150",attrs:{"active-text":"Daily","active-value":"daily"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}}),t._v(" "),a("el-switch",{staticClass:"w-150",attrs:{"active-text":"Weekly","active-value":"weekly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}}),t._v(" "),a("el-switch",{staticClass:"w-150",attrs:{"active-text":"Monthly","active-value":"monthly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}})],1),t._v(" "),a("div",{staticClass:"flex align-items-center h-30 mt-2"},[a("el-switch",{staticClass:"w-150",attrs:{"active-text":"BiMonthly","active-value":"bimonthly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}}),t._v(" "),a("el-switch",{staticClass:"w-150",attrs:{"active-text":"Quarterly","active-value":"quarterly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}}),t._v(" "),a("el-switch",{staticClass:"w-150",attrs:{"active-text":"Yearly","active-value":"yearly"},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}})],1)]),t._v(" "),a("transition",{attrs:{name:"el-fade-in"}},["daily"===t.form.schedule?a("el-form-item",{attrs:{label:"time of trasactions postings"}},[a("el-time-select",{attrs:{"picker-options":{start:"08:30",step:"00:05",end:"18:30"},placeholder:"Select time"},model:{value:t.schedule.time,callback:function(e){t.$set(t.schedule,"time",e)},expression:"schedule.time"}})],1):"weekly"===t.form.schedule?a("el-form-item",{attrs:{label:"date & time of trasactions postings"}},[a("div",{staticClass:"flex"},[a("el-select",{attrs:{placeholder:"select day"},model:{value:t.schedule.date,callback:function(e){t.$set(t.schedule,"date",e)},expression:"schedule.date"}},t._l(t.days,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1),t._v(" "),a("el-time-select",{attrs:{"picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"Select time"},model:{value:t.schedule.time,callback:function(e){t.$set(t.schedule,"time",e)},expression:"schedule.time"}})],1)]):a("el-form-item",{attrs:{label:"date & time of trasactions postings"}},[a("div",{staticClass:"flex"},[a("el-date-picker",{attrs:{type:"date",placeholder:"Date","value-format":"yyyy-MM-dd",format:"MMM dd, yyyy","default-value":Date.now()},model:{value:t.schedule.date,callback:function(e){t.$set(t.schedule,"date",e)},expression:"schedule.date"}}),t._v(" "),a("el-time-select",{attrs:{"picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"Select time"},model:{value:t.schedule.time,callback:function(e){t.$set(t.schedule,"time",e)},expression:"schedule.time"}})],1)])],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Upload CSV"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-change":t.onChange,"auto-upload":!1,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","file-list":t.form.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Click to upload")])],1),t._v(" "),t.fileError?a("div",{staticClass:"mt-2"},[a("p",{staticClass:"p-0 m-0"},[t._v("Error in Uploading File")]),t._v(" "),a("el-button",{attrs:{type:"text",loading:t.fileUploading,icon:"sync icon"},on:{click:t.onChange}},[t._v("Retry")])],1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"Download File Format"}},[a("a",{attrs:{download:"",href:"../../../static/Batch_file_format.csv"}},[t._v("Download file format")])])],1),t._v(" "),a("div",{staticClass:"flex justify-content-end"},[a("p",{staticClass:"s-12"},[t._v("NB: Vodafone numbers are not supported")])])],1)])],1)},staticRenderFns:[]};var p=a("VU/8")(u,m,!1,function(t){a("rc2e")},"data-v-0017d868",null);e.default=p.exports}});
//# sourceMappingURL=3.f765c4e9b6603f7a912a.js.map