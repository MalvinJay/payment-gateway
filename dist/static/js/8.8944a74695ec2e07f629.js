webpackJsonp([8],{"2H6u":function(e,s){},"WY9/":function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"center flex-column full-height"},[e._m(0),e._v(" "),t("div",{staticClass:"logo-div w-30 bg-white border-rounded"},[t("p",{staticClass:"text-center flopay-blue bold-500 s-16"},[e._v("Welcome. Please change your password")]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules},nativeOn:{keyup:function(s){if(!("button"in s)&&e._k(s.keyCode,"enter",13,s.key,"Enter"))return null;e.login("form")}}},[t("el-form-item",{attrs:{prop:"email"}},[t("el-input",{staticClass:"no-border-input",attrs:{placeholder:"Email",type:"email"},model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"current_password"}},[t("el-input",{staticClass:"no-border-input",attrs:{placeholder:"Current Password",type:e.current_type},model:{value:e.form.current_password,callback:function(s){e.$set(e.form,"current_password",s)},expression:"form.current_password"}},[t("i",{staticClass:"el-input__icon eye icon",attrs:{slot:"suffix"},on:{click:e.showCurrentPassword},slot:"suffix"})])],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{staticClass:"no-border-input",attrs:{placeholder:"New Password",type:e.type},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}},[t("i",{staticClass:"el-input__icon eye icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"})])],1),e._v(" "),t("el-form-item",{staticClass:"my-2"},[t("el-button",{staticClass:"w-100",attrs:{loading:e.loading,type:"warning"},on:{click:function(s){e.changePassword("form")}}},[e._v("Change Password")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"my-3 flex justify-content-center"},[s("img",{attrs:{src:t("AOy5"),alt:""}})])}]};var a=t("VU/8")({name:"FirstTimeLogin",data:function(){return{form:{email:"",current_password:"",password:""},loading:!1,type:"password",current_type:"password",rules:{email:[{required:!0,message:"Please input email",trigger:"blur"}],password:[{required:!0,message:"Please input password",trigger:"blur"}],current_password:[{required:!0,message:"Please input password",trigger:"blur"}]}}},mounted:function(){},methods:{changePassword:function(e){var s=this;this.$route.query.token&&(this.form.token=this.$route.query.token),this.loading=!0,this.$refs[e].validate(function(e){e?s.$store.dispatch("resetPassword",s.form).then(function(e){e.data.success?(s.$message({message:e.data.response.message,type:"success"}),s.$session.has("client")?s.$store.dispatch("getToken").then(function(e){s.$session.set("token",e.data.access_token),s.$store.dispatch("setToken",e.data.access_token),s.$router.push("/")}):(s.$message({message:"Password reset successful, login with your new credentials",type:"success"}),s.$router.push("/login"))):s.$message({message:e.data.response.message,type:"error"}),s.loading=!1}).catch(function(e){s.loading=!1,s.$message({message:"Error. Please try again later",type:"error"})}):(s.loading=!1,s.$message({message:"Please fill out all the details",type:"error"}))})},showCurrentPassword:function(){this.current_type="password"===this.current_type?"text":"password"},showPassword:function(){this.type="password"===this.type?"text":"password"}}},r,!1,function(e){t("2H6u")},"data-v-e0099206",null);s.default=a.exports}});
//# sourceMappingURL=8.8944a74695ec2e07f629.js.map