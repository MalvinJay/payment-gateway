webpackJsonp([5],{"6dP4":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var n=s("VU/8")({name:"Agents"},a,!1,function(t){s("hIUZ")},"data-v-01326fb5",null);e.default=n.exports},GSIb:function(t,e){},K4bw:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),n=s.n(a),i=s("woOf"),o=s.n(i),r=s("bOdI"),l=s.n(r),c=s("Usg1"),u=s("NYxO"),d={name:"Products",data:function(){var t;return t={test:!0,styleObject:{fontSize:"12px"},form:{name:"",quantity:0,unit_price:0,description:"",currency:"GHs"},exportVisible:!1,dialogVisible:!1,editedIndex:-1},l()(t,"form",{name:"",quantity:0,unit_price:0,description:"",currency:"GHs"}),l()(t,"defaultItem",{name:"",quantity:0,unit_price:0,description:"",currency:"GHs"}),t},created:function(){this.$store.dispatch("getProducts")},mounted:function(){var t=this;c.a.$emit("sideNavClick","products"),c.a.$on("exportModal",function(e){t.exportVisible=!1})},methods:{close:function(){var t=this;this.exportVisible=!1,this.dialogVisible=!1,setTimeout(function(){t.form=o()({},t.defaultItem),t.editedIndex=-1},300)},handleTableCommand:function(t,e){switch(t){case"edit":this.editItem(e);break;case"delete":this.deleteUser(e.id)}},save:function(){var t=this;this.editedIndex>-1?(console.log("Editing the item!!"),this.$store.dispatch("updateProduct",this.form).then(function(e){e.data.success?(t.$message({type:"success",message:e.data.response.message}),t.$store.dispatch("getProducts",{cache:!1}).then(function(){t.close()})):t.$message({type:"error",message:e.data.response.message})}).catch(function(e){t.$message({type:"error",message:e})})):(console.log("Saving a new item"),this.$store.dispatch("createProduct",this.form).then(function(e){e.data.success?(t.$message({message:e.data.response.message,type:"success"}),t.$store.dispatch("getProducts",{cache:!1}).then(function(){t.close()})):t.$message({type:"error",message:e.data.response.message})}).catch(function(e){t.$message({type:"error",message:e})}))},editItem:function(t){var e=this;this.editedIndex=this.products.indexOf(t),console.log("Index: ",this.editedIndex),this.form=o()({},t),-1===this.editedIndex?(this.editedIndex=1,setTimeout(function(){e.dialogVisible=!0},300)):this.dialogVisible=!0},deleteUser:function(t){var e=this;this.$confirm("This will permanently delete this User. Continue?","Warning",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then(function(){e.$store.dispatch("deleteProduct",t).then(function(t){t.data.success?(e.$message({type:"success",message:t.data.response.message}),e.$store.dispatch("getProducts",{cache:!1})):e.$message({type:"error",message:t.data.response.message})}).catch(function(t){e.$message({type:"error",message:"Product not deleted"})})}).catch(function(){e.$message({type:"error",message:"Product not deleted"})})},clickRow:function(t,e,s){s.property},handleCurrentChange:function(t){this.$store.dispatch("getProducts",{page:t,cache:!1})},fetchProducts:function(){this.$store.dispatch("getProducts",{cache:!1})}},computed:n()({},Object(u.b)({products:"products",meta:"productsMeta",state:"productsState"}),{error:function(){return"ERROR"===this.state&&"LOADING"!==this.state},total:function(){return this.meta.totalCount},loading:function(){return"LOADING"===this.state},filteredProducts:function(){return this.products},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}})},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"card-0"},[s("div",{staticClass:"transactions"},[s("div",{staticClass:"trans-div flex justify-content-between"},[s("div",[s("filter-component",{attrs:{dispatch:"setProductsFilters",filterType:"stocks"}})],1),t._v(" "),s("div",[s("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button",attrs:{type:"text"},on:{click:function(e){t.dialogVisible=!0}}},[s("i",{staticClass:"plus icon"}),t._v(" New Product")]),t._v(" "),s("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button",attrs:{type:"text"},on:{click:function(e){t.exportVisible=!0}}},[s("i",{staticClass:"file alternate outline icon"}),t._v(" Export")])],1)]),t._v(" "),s("div",[t.error?s("div",{staticClass:"center h-80"},[s("div",{staticClass:"center flex-column"},[s("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),s("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchProducts(e)}}},[t._v("Retry")])],1)]):s("div",{staticClass:"breathe"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":"No match found, filter desired period range","row-style":t.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.filteredProducts},on:{"row-click":t.clickRow}},[s("el-table-column",{attrs:{label:"Name"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 s-13"},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Code"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 s-13"},[t._v(t._s(e.row.code))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Quantity"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 s-13"},[t._v(t._s(e.row.quantity))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Unit Price"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 s-13"},[t._v(t._s(e.row.unit_price))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"description",label:"Description"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                          "+t._s(e.row.description)+"\n                        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",[s("el-dropdown",{staticClass:"mini-menu",attrs:{trigger:"click"},on:{command:function(s){return t.handleTableCommand(s,e.row)}}},[s("el-button",{staticClass:"trans-icon-only-button",attrs:{type:"text",size:"mini",plain:"",icon:"ellipsis horizontal icon"}}),t._v(" "),s("el-dropdown-menu",{staticClass:"w-200",attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{disabled:""}},[s("div",{staticClass:"table-dropdown-header blue-text bold-600 text-uppercase"},[t._v("\n                                          action\n                                      ")])]),t._v(" "),s("el-dropdown-item",{staticClass:"s-12",attrs:{command:"edit"}},[t._v("Edit")]),t._v(" "),s("el-dropdown-item",{staticClass:"s-12",attrs:{command:"delete"}},[t._v("Delete")])],1)],1)],1)]}}])})],1),t._v(" "),s("div",{staticClass:"flex justify-content-between align-items-center px-10"},[s("div",{staticClass:"s-12"},[s("span",{staticClass:"bold-600"},[t._v(t._s(t.products.length))]),t._v(" results\n                    ")]),t._v(" "),s("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.total,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),s("export-modal",{attrs:{modalVisible:t.exportVisible},on:{"update:modalVisible":function(e){t.exportVisible=e}}})],1),t._v(" "),s("el-dialog",{attrs:{"custom-class":"new-transaction",title:t.formTitle,visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"flex justify-content-center new-transaction-bg"},[s("el-form",{ref:"form",staticClass:"transaction-form",attrs:{size:"mini","hide-required-asterisk":"",model:t.form,"label-width":"120px"}},[s("div",[s("el-form-item",{attrs:{label:"Product Name"}},[s("el-input",{attrs:{placeholder:"Product Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),s("el-form-item",{staticClass:"h-auto",attrs:{label:"Quantity",prop:"quantity"}},[s("el-input",{staticClass:"addProduct",attrs:{type:"number"},model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})],1),t._v(" "),s("el-form-item",{staticClass:"h-auto",attrs:{label:"Unit Price",prop:"unit_price"}},[s("el-input",{staticClass:"little-padding-input addProduct",attrs:{type:"number"},model:{value:t.form.unit_price,callback:function(e){t.$set(t.form,"unit_price",e)},expression:"form.unit_price"}},[s("span",{attrs:{slot:"prefix"},slot:"prefix"},[t._v("â‚µ")])])],1),t._v(" "),s("el-form-item",{staticClass:"h-auto",attrs:{label:"Description",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)])],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"z-depth-button b-0 open-sans black-text",attrs:{size:"mini"},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),s("el-button",{staticClass:"z-depth-button b-0 bold-500 open-sans white-text",attrs:{size:"mini",loading:t.loading,type:"primary"},on:{click:function(e){t.save("form")}}},[t._v("Add Product")])],1)])],1)},staticRenderFns:[]};var m=s("VU/8")(d,p,!1,function(t){s("fQNu")},"data-v-6ed44b22",null);e.default=m.exports},cly0:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),n=s.n(a),i=s("Usg1"),o=s("NYxO"),r={name:"Purchases",data:function(){return{test:!0,styleObject:{fontSize:"12px"},exportVisible:!1,dialogVisible:!1}},created:function(){this.$store.dispatch("getPurchases")},mounted:function(){var t=this;i.a.$emit("sideNavClick","purchases"),i.a.$on("exportModal",function(e){t.exportVisible=!1})},methods:{close:function(){this.exportVisible=!1,this.dialogVisible=!1},handleTableCommand:function(t,e){t},clickRow:function(t,e,s){s.property},handleCurrentChange:function(t){this.$store.dispatch("getPurchases",{page:t,cache:!1})},fetchPurchases:function(){this.$store.dispatch("getPurchases",{cache:!1})}},computed:n()({},Object(o.b)({purchases:"purchases",state:"purchasesState",meta:"purchasesMeta"}),{error:function(){return"ERROR"===this.state&&"LOADING"!==this.state},total:function(){return this.meta.purchases},loading:function(){return"LOADING"===this.state},filteredPurchases:function(){return this.purchases}})},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"card-0"},[s("div",{staticClass:"transactions"},[s("div",{staticClass:"trans-div flex justify-content-between"},[s("div",[s("filter-component",{attrs:{dispatch:"setPurchasesFilters",filterType:"purchases"}})],1),t._v(" "),s("div",[s("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button",attrs:{type:"text"},on:{click:function(e){t.exportVisible=!0}}},[s("i",{staticClass:"file alternate outline icon"}),t._v(" Export")])],1)]),t._v(" "),s("div",[t.error?s("div",{staticClass:"center h-80"},[s("div",{staticClass:"center flex-column"},[s("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),s("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchPurchases(e)}}},[t._v("Retry")])],1)]):s("div",{staticClass:"breathe"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":"No match found, filter desired period range","row-style":t.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.filteredPurchases},on:{"row-click":t.clickRow}},[s("el-table-column",{attrs:{label:"Purchase Ref."},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 s-13"},[t._v(t._s(e.row.reference))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 s-13"},[t._v(t._s(e.row.status))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Prev. Quantity"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 s-13"},[t._v(t._s(e.row.previous_quantity))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Cur. Quantity"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 s-13"},[t._v(t._s(e.row.current_quantity))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Remarks"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                          "+t._s(e.row.remarks)+"\n                        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Customer No."},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                          "+t._s(e.row.customer_number)+"\n                        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Product"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                          "+t._s(e.row.product.name)+"\n                        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"Date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                          "+t._s(t._f("moment")(e.row.created_at,"D MMM,YY hh:mm A"))+"\n                        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",[s("el-dropdown",{staticClass:"mini-menu",attrs:{trigger:"click"},on:{command:function(s){return t.handleTableCommand(s,e.row)}}},[s("el-button",{staticClass:"trans-icon-only-button",attrs:{type:"text",size:"mini",plain:"",icon:"ellipsis horizontal icon"}}),t._v(" "),s("el-dropdown-menu",{staticClass:"w-200",attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{staticClass:"s-12",attrs:{command:"edit"}},[t._v("View Purchase Details")])],1)],1)],1)]}}])})],1),t._v(" "),s("div",{staticClass:"flex justify-content-between align-items-center px-10"},[s("div",{staticClass:"s-12"},[s("span",{staticClass:"bold-600"},[t._v(t._s(t.purchases.length))]),t._v(" results\n                    ")]),t._v(" "),s("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.total,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),s("export-modal",{attrs:{modalVisible:t.exportVisible},on:{"update:modalVisible":function(e){t.exportVisible=e}}})],1)])},staticRenderFns:[]};var c=s("VU/8")(r,l,!1,function(t){s("GSIb")},"data-v-07a7c638",null);e.default=c.exports},fQNu:function(t,e){},hIUZ:function(t,e){}});
//# sourceMappingURL=5.1af7723359c96729e9d2.js.map