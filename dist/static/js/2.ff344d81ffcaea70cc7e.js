webpackJsonp([2],{"0pHN":function(t,e){},MuCP:function(t,e){},O8kW:function(t,e){},ZxBG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),o=a.n(n),c=a("Usg1"),s=a("NYxO"),l={name:"NewAccount",props:["accountVisible"],data:function(){return{form:{is_verified_account:!0,country_code:"GH",onboard_type:"FLPW"},imageUrl:"",fileList:[],columns:[{label:"Owners Name",prop:"owner_name",model:"owner_name",type:"text"},{label:"Company Name",prop:"company_name",model:"company_name",type:"text"},{label:"Phone Number",prop:"client_msisdn",model:"client_msisdn",type:"text"},{label:"Email Address",prop:"email",model:"email",type:"text"},{label:"Bank Account Number",prop:"bank",model:"bank",type:"text"},{label:"Clients Sub-Code",prop:"code",model:"code",type:"text"},{label:"Merchant Mobile Money Number",prop:"email",model:"email",type:"text"},{label:"Business Address",prop:"address",model:"address",type:"textarea"},{label:"City",prop:"city",model:"city",type:"text"}]}},methods:{close:function(){c.a.$emit("accountModal",!1)},handleAvatarSuccess:function(t,e){var a=this.$el.querySelector(".avatar-uploader input[type='file']").files[0];this.imageUrl=URL.createObjectURL(a)}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"custom-class":"export-dialog",title:"New Account",visible:t.accountVisible,top:"10vh",width:"35%"},on:{close:t.close}},[a("div",{staticClass:"flex justify-content-center new-account"},[a("el-form",{ref:"form",staticClass:"my-2 s-12 transaction-form account-form",staticStyle:{width:"80%"},attrs:{size:"mini","hide-required-asterisk":"",model:t.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"Upload Photo"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",accept:".png,.jpg,.jpeg","auto-upload":!1,"show-file-list":!1,"on-change":t.handleAvatarSuccess,limit:1,"file-list":t.fileList,"on-success":t.handleAvatarSuccess}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),t._l(t.columns,function(e,n){return a("el-form-item",{key:n,attrs:{label:e.label,prop:e.prop}},[a("el-input",{attrs:{type:e.type},model:{value:t.form[e.model],callback:function(a){t.$set(t.form,e.model,a)},expression:"form[item.model]"}})],1)})],2)],1)])},staticRenderFns:[]};var r={name:"AccountsTable",components:{NewAccount:a("VU/8")(l,i,!1,function(t){a("MuCP")},"data-v-eb2fd97c",null).exports},data:function(){return{accountVisible:!1,columns:[{label:"code",dataField:"account_code"},{label:"Client",dataField:"company"},{label:"till number",dataField:"code"},{label:"account number",dataField:"bank_account_no"}],styleObject:{fontSize:"12px"},date:!1}},created:function(){this.$store.dispatch("getAccounts",{cache:!1})},mounted:function(){var t=this;c.a.$emit("sideNavClick","accounts"),c.a.$on("accountModal",function(){t.accountVisible=!1})},methods:{handleCurrentChange:function(t){this.$store.dispatch("getCurrentAccounts",t)},fetchAccounts:function(){this.$store.dispatch("getAccounts",{cache:!1})},handleTableCommand:function(t,e){switch(t){case"edit":this.$router.push("accounts/"+e.id)}},clickRow:function(t,e,a){a.property&&this.$router.push("/accounts/"+t.code)}},computed:o()({},Object(s.b)({accounts:"currentAccounts",state:"accountsState",totalAccount:"accounts",pageSize:"pageSize"}),{error:function(){return"ERROR"===this.state&&"LOADING"!==this.state},total:function(){return this.totalAccount.length},count:function(){},loading:function(){return"LOADING"===this.state}}),filters:{capitalize:function(t){return t?(t=t.toString()).charAt(0).toUpperCase()+t.slice(1).toLowerCase():""}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"card-0"},[a("div",{staticClass:"transactions"},[a("div",{staticClass:"trans-div flex justify-content-between"},[a("div",[a("p",{staticClass:"blue-text bold-600 s-16 m-0 p-0"},[t._v("Accounts")])]),t._v(" "),a("div",[a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button",attrs:{type:"text"},on:{click:function(e){t.accountVisible=!0}}},[a("i",{staticClass:"plus icon"}),t._v(" New")])],1)]),t._v(" "),a("div",[t.error?a("div",{staticClass:"center h-80"},[a("div",{staticClass:"center flex-column"},[a("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),a("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchAccounts(e)}}},[t._v("Retry")])],1)]):a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":"No Accounts","row-style":t.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.accounts},on:{"row-click":t.clickRow}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.columns,function(e,n){return a("el-table-column",{key:n,attrs:{"show-overflow-tooltip":"",prop:e.dataField,label:e.label},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                            "+t._s(t._f("capitalize")(a.row[e.dataField]))+"\n                        ")]}}])})}),t._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"Balance"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("money")(e.row.balance))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"On-board Date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("moment")(e.row.created_at,"Do MMM, YYYY hh:mm A"))+"\n                        ")]}}])})],2),t._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-10"},[a("div",{staticClass:"s-12"},[t._v("\n                        "+t._s(t.accounts.length)+" results\n                    ")]),t._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":t.pageSize,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)])]),t._v(" "),a("new-account",{attrs:{accountVisible:t.accountVisible},on:{"update:accountVisible":function(e){t.accountVisible=e}}})],1)},staticRenderFns:[]};var d={name:"Account",components:{AccountTable:a("VU/8")(r,u,!1,function(t){a("O8kW")},"data-v-97216a22",null).exports},mounted:function(){localStorage.getItem("isAdmin")||this.$router.push("/dashboard")},computed:{isAdmin:function(){return console.log("type of","true"===localStorage.getItem("isAdmin")),"true"===localStorage.getItem("isAdmin")}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.isAdmin?e("div",[e("account-table")],1):this._e()])},staticRenderFns:[]};var m=a("VU/8")(d,p,!1,function(t){a("0pHN")},"data-v-71d2322a",null);e.default=m.exports}});
//# sourceMappingURL=2.ff344d81ffcaea70cc7e.js.map