webpackJsonp([5],{dbNp:function(e,t){},"m/NA":function(e,t){},z1Ms:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),o=a.n(s),n=a("Usg1"),i=a("NYxO"),r=(a("Y+wi"),a("PJh5"),{name:"TopupAccount",props:["modalVisible"],data:function(){return{checkAll:!1,topupoption:"flopay",form:{sender_amount:"",sender_currency:"GHS",recipient_amount:"",recipient_currency:"GHS",recipient_no:"",recipient_name:"",provider:"",country_code:"GH",service_code:"cashin",live:!1},options:[{name:"Flopay Wallet",value:"flopay"},{name:"External Wallet",value:"external"}],rules:{recipient_no:[{required:!0,min:10,max:10,message:"Length should be 10",trigger:"blur"}],sender_amount:[{required:!0,message:"This field is required",trigger:"blur"}],recipient_amount:[{required:!0,message:"This field is required",trigger:"blur"}]},loading:!1}},methods:{close:function(){n.a.$emit("topupModal",!1)},createLog:function(e){var t=this;this.loading=!0,this.$refs[e].validate(function(e){e?(t.form.live=!t.test,t.form.dummy=t.test,t.form.service_code="cashin",t.form.reference="FLPCI"+Math.floor(99999999999*Math.random()),t.$store.dispatch("createPayouts",t.form).then(function(e){e.data.success?(t.$message({type:"success",message:e.data.response.message}),t.$store.dispatch("getBalance"),t.$store.dispatch("getTopUps",{cache:!1}),t.close()):t.$message({type:"error",message:e.data.response.message}),t.loading=!1}).catch(function(e){t.loading=!1;var a=e.response;t.$message({message:a.data.error,type:"error"})})):(t.loading=!1,t.$message({message:"Please correct the errors",type:"error"}))})}},computed:o()({},Object(i.b)({providers:"providers",test:"test"}),{recipient_amount:{get:function(){return this.form.sender_amount},set:function(e){this.form.sender_amount=e,this.form.recipient_amount=e}}})}),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"custom-class":"export-dialog",title:"Top-Up EVA",visible:e.modalVisible,width:"35%"},on:{close:e.close}},[a("div",{staticClass:"flex justify-content-center new-transaction-bg"},[a("el-form",{ref:"form",staticClass:"transaction-form",attrs:{size:"mini","hide-required-asterisk":"",rules:e.rules,model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Wallet Name"}},[a("el-input",{model:{value:e.form.recipient_name,callback:function(t){e.$set(e.form,"recipient_name",t)},expression:"form.recipient_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"h-auto",attrs:{label:"Wallet Number",prop:"recipient_no"}},[a("el-input",{model:{value:e.form.recipient_no,callback:function(t){e.$set(e.form,"recipient_no",t)},expression:"form.recipient_no"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Provider"}},[a("el-select",{attrs:{placeholder:"Select Provider"},model:{value:e.form.provider,callback:function(t){e.$set(e.form,"provider",t)},expression:"form.provider"}},e._l(e.providers,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Sender Amount",prop:"sender_amount"}},[a("el-input",{staticClass:"little-padding-input",model:{value:e.form.sender_amount,callback:function(t){e.$set(e.form,"sender_amount",t)},expression:"form.sender_amount"}},[a("span",{attrs:{slot:"prefix"},slot:"prefix"},[e._v("₵")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"Recipient Amount",prop:"recipient_amount"}},[a("el-input",{staticClass:"little-padding-input",model:{value:e.recipient_amount,callback:function(t){e.recipient_amount=t},expression:"recipient_amount"}},[a("span",{attrs:{slot:"prefix"},slot:"prefix"},[e._v("₵")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"Remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"z-depth-button b-0 open-sans black-text",attrs:{size:"mini"},on:{click:e.close}},[e._v("Cancel")]),e._v(" "),a("el-button",{staticClass:"z-depth-button b-0 bold-500 open-sans white-text",attrs:{size:"mini",loading:e.loading,type:"primary"},on:{click:function(t){e.createLog("form")}}},[e._v("Initiate Topup")])],1)])},staticRenderFns:[]};var c={name:"TopUps",components:{TopupModal:a("VU/8")(r,l,!1,function(e){a("dbNp")},"data-v-d3b9ffa6",null).exports},data:function(){return{test:!0,columns:[{label:"Customer",dataField:"receiver_name",width:"auto"},{label:"Reference",dataField:"reference",width:"auto"},{label:"type",dataField:"remarks",width:"150px"}],styleObject:{fontSize:"12px"},topupVisible:!1}},created:function(){this.$store.dispatch("getTopUps")},mounted:function(){var e=this;n.a.$emit("sideNavClick","topups"),n.a.$on("topupModal",function(t){e.topupVisible=!1})},beforeDestroy:function(){var e=this;n.a.$off("topupModal",function(t){e.topupVisible=!1})},methods:{handleCurrentChange:function(e){this.$store.dispatch("getTopUps",{page:e,cache:!1})},clickRow:function(e,t,a){},fetchTopUps:function(){this.$store.dispatch("getJobs")},handleCommand:function(e,t){switch(e){case"edit":this.editJob(t.id);break;case"delete":this.deleteJob(t.id)}}},computed:o()({},Object(i.b)({topups:"topups",state:"topupsState",pageSize:"pageSize"}),{error:function(){return"ERROR"===this.state&&"LOADING"!==this.state},total:function(){return this.topups.length},loading:function(){return"LOADING"===this.state}})},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"transactions"},[a("div",{staticClass:"trans-div flex justify-content-between"},[a("div",{staticClass:"flex align-items-baseline"},[a("filter-component",{attrs:{dispatch:"setTopUpsFilters",filterType:"payment"}})],1),e._v(" "),a("div",[a("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button",attrs:{type:"text"},on:{click:function(t){e.topupVisible=!0}}},[a("i",{staticClass:"plus icon"}),e._v(" New")])],1)]),e._v(" "),a("div",[e.error?a("div",{staticClass:"center h-80"},[a("div",{staticClass:"center flex-column"},[a("p",{staticClass:"m-0 p-0"},[e._v("Unable to load this page")]),e._v(" "),a("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(t){return t.preventDefault(),e.fetchTopUps(t)}}},[e._v("Retry")])],1)]):a("div",{staticClass:"breathe"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"empty-text":"No Topups","row-style":e.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:e.topups},on:{"row-click":e.clickRow}},[a("el-table-column",{attrs:{prop:"amount",label:"Amount"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"m-0 p-0 mr-10 bold-500 s-13"},[e._v(e._s(e._f("money")(t.row.receiver_amount)))])]}}])}),e._v(" "),e._l(e.columns,function(e,t){return a("el-table-column",{key:t,attrs:{"show-overflow-tooltip":"",width:e.width,prop:e.dataField,label:e.label}})}),e._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"Date"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(e._f("moment")(t.row.created_at,"D MMM,YY hh:mm A"))+"\n                    ")]}}])})],2),e._v(" "),a("div",{staticClass:"flex justify-content-between align-items-center px-10"},[a("div",{staticClass:"s-12"},[e._v("\n                    "+e._s(e.topups.length)+" results\n                ")]),e._v(" "),a("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{"page-size":e.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("topup-modal",{attrs:{modalVisible:e.topupVisible}})],1)},staticRenderFns:[]};var u=a("VU/8")(c,p,!1,function(e){a("m/NA")},"data-v-413cd254",null);t.default=u.exports}});
//# sourceMappingURL=5.1d3ce406732f8b4e25ce.js.map