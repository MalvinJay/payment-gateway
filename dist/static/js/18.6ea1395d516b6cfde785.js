webpackJsonp([18],{ElG4:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Dd8w"),l=s.n(a),i=s("NYxO"),r=s("Usg1"),o={name:"APIKeys",data:function(){return{dialogVisible:!1,revealSecret:!1,form:{},loading:!1,saveLoading:!1,rules:{password:[{required:!0,message:"Password is required",trigger:"blur"}]}}},methods:{authenticate:function(e){var t=this;this.loading=!0,this.$refs[e].validate(function(e){e?t.$store.dispatch("login",{email:t.user.client.email,password:t.form.password}).then(function(e){e.data.success?(t.revealSecret=!0,t.dialogVisible=!1):t.$message({message:e.data.response.message,type:"error"}),t.loading=!1}).catch(function(e){t.loading=!1,t.$message({message:"Error. Please try again later",type:"error"})}):(t.loading=!1,t.$message({message:"Please fill out all the details",type:"error"}))})},saveNewDetails:function(){var e=this;this.saveLoading=!0;var t=[this.user.client.test_callbackurl,this.user.client.callbackurl];this.$store.dispatch("getCurrentHook",t).then(function(t){t.data.success?(e.user.client.test_callbackurl=t.data.response.data.test_callbackurl,e.user.client.callbackurl=t.data.response.data.production_callbackurl,e.$message({message:t.data.response.message,type:"success"})):e.$message({message:t.data.response.message,type:"error"}),e.saveLoading=!1}).catch(function(t){e.saveLoading=!1,e.$message({message:"Error. Please try again later",type:"error"})})}},created:function(){r.a.$emit("sideNavClick","keys")},computed:l()({},Object(i.b)(["user"]))},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("p",{staticClass:"header-text"},[e._v("API Keys")])]),e._v(" "),s("div",[s("h3",[e._v("Credentials")]),e._v(" "),s("p",[e._v("To you use our web API, you need to use the client_id and client_secret to get an access_token.\n                The access_token would serve as a master key to unlock all the endpoints you would like to access on our platform")]),e._v(" "),s("h3",[e._v("API documentation")]),e._v(" "),s("p",[e._v("Flopay provides you with an interactive API documentation which would reduce the amount of time you would have to spend to reading a long text of instructions. \n                Access the API documentation from this link: "),s("a",{attrs:{target:"_blank",href:"https://developer.flopay.io"}},[e._v(" flopay.io/docs")])])])]),e._v(" "),s("el-card",{directives:[{name:"can",rawName:"v-can",value:"View API Credentials",expression:"'View API Credentials'"}],staticClass:"my-2"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("p",{staticClass:"header-text"},[e._v("API Credentials")])]),e._v(" "),s("div",[e.revealSecret?s("div",[s("div",{staticClass:"flex my-2"},[s("el-row",[s("el-col",{attrs:{span:5}},[s("p",{staticClass:"blue-text bold-600 mr-6"},[e._v("client_id: ")])]),e._v(" "),s("el-col",{attrs:{span:19}},[s("p",[e._v(e._s(e.user.access_key.client_id))])])],1)],1),e._v(" "),s("div",{staticClass:"flex"},[s("el-row",[s("el-col",{attrs:{span:5}},[s("p",{staticClass:"blue-text bold-600 mr-6"},[e._v("client_secret: ")])]),e._v(" "),s("el-col",{attrs:{span:19}},[s("p",[e._v(e._s(e.user.access_key.client_secret))])])],1)],1)]):s("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button",attrs:{size:"mini",type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("Reveal credentials")])],1)]),e._v(" "),s("el-card",{staticClass:"my-2"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("p",{staticClass:"header-text"},[e._v("Development - Callback URL")])]),e._v(" "),s("div",[s("div",{staticClass:"w-100"},[s("div",{staticClass:"flex my-2"},[s("el-row",{staticClass:"w-100",attrs:{type:"flex",align:"middle"}},[s("el-col",{attrs:{span:8}},[s("p",{staticClass:"blue-text bold-600 mr-6"},[e._v("Provide callback url for testing")])]),e._v(" "),s("el-col",{attrs:{span:10}},[s("el-input",{attrs:{size:"mini"},model:{value:e.user.client.callbackurl,callback:function(t){e.$set(e.user.client,"callbackurl",t)},expression:"user.client.callbackurl"}})],1)],1)],1),e._v(" "),s("div",{staticClass:"flex"},[s("el-row",{staticClass:"w-100",attrs:{type:"flex",align:"middle"}},[s("el-col",{attrs:{span:8}},[s("p",{staticClass:"blue-text bold-600 mr-6"},[e._v("Provide callback url for production")])]),e._v(" "),s("el-col",{attrs:{span:10}},[s("el-input",{attrs:{size:"mini"},model:{value:e.user.client.test_callbackurl,callback:function(t){e.$set(e.user.client,"test_callbackurl",t)},expression:"user.client.test_callbackurl"}})],1)],1)],1),e._v(" "),s("div",{staticClass:"flex justify-content-end"},[s("el-button",{staticClass:"z-depth-button bold-600 s-13 open-sans mini-button",attrs:{loading:e.saveLoading,size:"mini",type:"primary"},on:{click:e.saveNewDetails}},[e._v("Save")])],1)])])]),e._v(" "),s("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{staticClass:"v-center"},[s("p",{staticClass:"mb-2"},[e._v("To continue, please enter your password")]),e._v(" "),s("el-form",{ref:"form",staticClass:"w-75",attrs:{"hide-required-asterisk":"",model:e.form,rules:e.rules,size:"mini","label-position":"left","label-width":"80px"}},[s("el-form-item",{attrs:{label:"Email"}},[s("el-input",{attrs:{placeholder:e.user.client.email},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Password",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),s("el-form-item",[s("div",{staticClass:"flex"},[s("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){e.authenticate("form")}}},[e._v("Authenticate")]),e._v(" "),s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")])],1)])],1)],1)])],1)},staticRenderFns:[]};var c=s("VU/8")(o,n,!1,function(e){s("TjQm")},"data-v-259e6d2b",null);t.default=c.exports},TjQm:function(e,t){}});
//# sourceMappingURL=18.6ea1395d516b6cfde785.js.map