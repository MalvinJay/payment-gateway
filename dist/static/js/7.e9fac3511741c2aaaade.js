webpackJsonp([7],{"2kTY":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Gu7T"),s=i.n(n),a=i("Dd8w"),r=i.n(a),o=i("Usg1"),l={name:"TicketModal",props:["ticketVisible","transaction"],data:function(){return{reasons:["other","pending transaction","successful but customer not credited","transaction callback not received"],form:{description:"",email:[]},other:"",loading:!1,inputVisible:!1,inputValue:""}},methods:{close:function(){o.a.$emit("ticketModal",!1)},handleClose:function(e){this.form.email.splice(this.form.email.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick(function(t){e.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var e=this.inputValue;e&&this.form.email.push(e),this.inputVisible=!1,this.inputValue=""},submitTicket:function(e){var t=this;this.loading=!0;var i=r()({},this.form,{wallet_number:this.transaction.receiver_no,amount:this.transaction.sender_amount,reference:this.transaction.reference,date_of_transaction:this.transaction.created_at,email:[this.$session.get("email")],emails:[].concat(s()(this.form.email)),customer_name:this.transaction.receiver_name||"N/A",provider_reference:this.transaction.provider_ref||"N/A",from:this.$session.get("email")});this.$store.dispatch("createTicket",i).then(function(e){t.loading=!1,t.$message({type:"success",message:e.data.response.message}),e.data.success&&t.close()}).catch(function(e){t.loading=!1;var i=e.response;t.$message({type:"error",message:i.data.error})})},resetForm:function(e){this.$refs[e].resetFields()}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"no-padding-dialog",attrs:{top:"25vh","custom-class":"ticket-dialog",title:"Open Ticket",visible:e.ticketVisible,width:"30%"},on:{close:e.close}},[i("div",{staticClass:"flex new-ticket-bg"},[i("el-form",{ref:"ticketForm",staticClass:"w-80 m-auto",attrs:{"label-width":"80px",size:"mini"}},[i("el-form-item",{attrs:{label:"Issue"}},[i("el-select",{staticClass:"w-100",attrs:{placeholder:"Please select reason"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}},e._l(e.reasons,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"Email"}},[i("div",{staticClass:"flex flex-wrap"},[e._l(e.form.email,function(t){return i("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){e.handleClose(t)}}},[e._v("\n                        "+e._s(t)+"\n                        ")])}),e._v(" "),e.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{resize:"horizontal",size:"mini"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleInputConfirm(t):null}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Email")])],2)]),e._v(" "),i("el-form-item",{attrs:{label:"Subject"}},[i("el-input",{attrs:{type:"text"},model:{value:e.form.subject,callback:function(t){e.$set(e.form,"subject",t)},expression:"form.subject"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Remarks"}},[i("el-input",{attrs:{autosize:{minRows:3,maxRows:8},type:"textarea"},model:{value:e.other,callback:function(t){e.other=t},expression:"other"}})],1),e._v(" "),i("div",{staticClass:"flex justify-content-end my-2"},[i("el-button",{attrs:{size:"mini"},on:{click:e.close}},[e._v("Cancel")]),e._v(" "),i("el-button",{attrs:{size:"mini",loading:e.loading,type:"primary"},on:{click:function(t){e.submitTicket("ticketForm")}}},[e._v("Submit")])],1)],1)],1)])},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(e){i("CT7G")},"data-v-6e416aa6",null);t.default=u.exports},"5zde":function(e,t,i){i("zQR9"),i("qyJz"),e.exports=i("FeBl").Array.from},CT7G:function(e,t){},Gu7T:function(e,t,i){"use strict";t.__esModule=!0;var n,s=i("c/Tr"),a=(n=s)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,a.default)(e)}},"c/Tr":function(e,t,i){e.exports={default:i("5zde"),__esModule:!0}},fBQ2:function(e,t,i){"use strict";var n=i("evD5"),s=i("X8DO");e.exports=function(e,t,i){t in e?n.f(e,t,s(0,i)):e[t]=i}},qyJz:function(e,t,i){"use strict";var n=i("+ZMJ"),s=i("kM2E"),a=i("sB3e"),r=i("msXi"),o=i("Mhyx"),l=i("QRG4"),c=i("fBQ2"),u=i("3fs2");s(s.S+s.F*!i("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,s,f,m=a(e),d="function"==typeof this?this:Array,p=arguments.length,h=p>1?arguments[1]:void 0,v=void 0!==h,b=0,_=u(m);if(v&&(h=n(h,p>2?arguments[2]:void 0,2)),void 0==_||d==Array&&o(_))for(i=new d(t=l(m.length));t>b;b++)c(i,b,v?h(m[b],b):m[b]);else for(f=_.call(m),i=new d;!(s=f.next()).done;b++)c(i,b,v?r(f,h,[s.value,b],!0):s.value);return i.length=b,i}})}});
//# sourceMappingURL=7.e9fac3511741c2aaaade.js.map