webpackJsonp([4],{G9lv:function(t,e){},myTt:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),n=s.n(a),l=s("Usg1"),o=s("NYxO"),i={name:"Settlements",data:function(){return{test:!0,columns:[{label:"Customer",dataField:"customer",width:"250"},{label:"Reference",dataField:"reference",width:"auto"}],styleObject:{fontSize:"12px"}}},created:function(){this.$store.dispatch("getSettlements")},mounted:function(){l.a.$emit("sideNavClick","settlements")},methods:{handleCurrentChange:function(t){this.$store.dispatch("getSettlements",{page:t,cache:!1})},clickRow:function(t,e,s){},fetchSettlements:function(){this.$store.dispatch("getJobs")},handleCommand:function(t,e){switch(t){case"edit":this.editJob(e.id);break;case"delete":this.deleteJob(e.id)}}},computed:n()({},Object(o.b)({settlements:"settlements",state:"settlementsState"}),{error:function(){return"ERROR"===this.state&&"LOADING"!==this.state},total:function(){return this.settlements.length},loading:function(){return"LOADING"===this.state},filteredSettlements:function(){return this.settlements.map(function(t){return t.customer=t.receiver_no+" - "+t.receiver_name,t})}})},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"transactions"},[s("div",{staticClass:"trans-div"},[s("div",{staticClass:"flex align-items-baseline"},[s("p",{staticClass:"header-text"},[t._v("Settlements")])])]),t._v(" "),s("div",[t.error?s("div",{staticClass:"center h-80"},[s("div",{staticClass:"center flex-column"},[s("p",{staticClass:"m-0 p-0"},[t._v("Unable to load this page")]),t._v(" "),s("el-button",{attrs:{icon:"sync icon",type:"text"},on:{click:function(e){return e.preventDefault(),t.fetchSettlements(e)}}},[t._v("Retry")])],1)]):s("div",[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":"No Settlements","row-style":t.styleObject,"row-class-name":"transactions-table-body","header-row-class-name":"transactions-table-header",data:t.filteredSettlements}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),s("el-table-column",{attrs:{prop:"amount",label:"Amount",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"m-0 p-0 mr-10 bold-500 s-13"},[t._v(t._s(t._f("money")(e.row.receiver_amount)))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:""},scopedSlots:t._u([{key:"default",fn:function(t){return[s("div",{staticClass:"flex"},["Paid"===t.row.status?s("the-tag",{attrs:{status:"success",title:t.row.status,icon:"detail check icon"}}):"failed"===t.row.status.toLowerCase()?s("the-tag",{attrs:{status:"success",title:t.row.status,icon:"close icon"}}):s("the-tag",{attrs:{status:"failed",title:t.row.status,icon:"reply icon"}})],1)]}}])}),t._v(" "),t._l(t.columns,function(t,e){return s("el-table-column",{key:e,attrs:{width:t.width,prop:t.dataField,label:t.label}})}),t._v(" "),s("el-table-column",{attrs:{prop:"created_at",label:"Date",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("moment")(e.row.created_at,"MMM Do, YYYY"))+"\n                    ")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"created_at",label:"Time",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("moment")(e.row.created_at,"HH:mm A"))+"\n                    ")]}}])}),t._v(" "),s("el-table-column",{attrs:{width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"mini-menu"},["failed"===e.row.status.toLowerCase()?s("i",{staticClass:"reply icon cursor first-icon"}):t._e(),t._v(" "),s("el-dropdown",{attrs:{trigger:"click"},on:{command:function(s){return t.handleTableCommand(s,e.row)}}},[s("i",{staticClass:"ellipsis horizontal icon mr-0 cursor"}),t._v(" "),s("el-dropdown-menu",{staticClass:"w-200",attrs:{slot:"dropdown"},slot:"dropdown"},["failed"===e.row.status.toLowerCase()?s("el-dropdown-item",{attrs:{disabled:""}},[s("div",{staticClass:"table-dropdown-header bold-600 text-uppercase"},[t._v("\n                                            action\n                                        ")])]):t._e(),t._v(" "),"failed"===e.row.status.toLowerCase()?s("el-dropdown-item",{staticClass:"s-12",attrs:{command:"open"}},[t._v("Open Ticket")]):t._e(),t._v(" "),"failed"===e.row.status.toLowerCase()?s("el-dropdown-item",{staticClass:"s-12"},[t._v("Retry")]):t._e(),t._v(" "),s("el-dropdown-item",{attrs:{divided:"failed"===e.row.status.toLowerCase(),disabled:""}},[s("div",{staticClass:"table-dropdown-header bold-600 text-uppercase"},[t._v("\n                                            connection\n                                        ")])]),t._v(" "),s("el-dropdown-item",{staticClass:"s-12",attrs:{command:"edit"}},[t._v("View Payment Details")])],1)],1)],1)]}}])})],2),t._v(" "),s("div",{staticClass:"flex justify-content-between align-items-center px-10"},[s("div",{staticClass:"s-12"},[t._v("\n                    "+t._s(t.settlements.length)+" results\n                ")]),t._v(" "),s("el-pagination",{staticClass:"my-2 flex justify-content-end",attrs:{layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]};var c=s("VU/8")(i,r,!1,function(t){s("G9lv")},"data-v-5f23df12",null);e.default=c.exports}});
//# sourceMappingURL=4.e59134c669089faa7ca4.js.map